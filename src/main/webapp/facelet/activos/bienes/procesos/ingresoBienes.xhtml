<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../../../WEB-INF/template/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="title">
        Ingresos Bienesss
    </ui:define>

    <ui:define name="content">
        <style type="text/css">
            .myclass .ui-panel-titlebar{
                background-color: rgb(255,193,7);
                color: #000000;
            }
        </style>

        <h:form id="frmMain" prependId="false">
            <div class="ui-fluid">
                <div class="ui-g">
                    <div class="ui-g-12">
                        <div class="card card-w-title">
                            <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                    <p:graphicImage value="/resources/icons/itembienes.jpg"
                                                    width="100" height="100" 
                                                    style="margin:auto;  width: auto; float: left"></p:graphicImage>
                                </p:panelGrid>
                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                    <center><h1 style="font-weight: bold; font-size: 25px">
                                            REGISTRO DE BIENES
                                        </h1></center>
                                </p:panelGrid>
                            </p:panelGrid>

                            <p:accordionPanel id="accordionBienes" prependId="false" style="width: 100%;" activeIndex="#{ingresosBienesView.indiceDeAcordian}"> 
                                <p:tab  title="CREAR NUEVO GRUPO">
                                    <div style="float: right">
                                        <p:commandButton value="Nuevo Ingreso"
                                                         icon="fa fa-plus"
                                                         process="@this"
                                                         actionListener="#{ingresosBienesView.formNewGrupo(null)}"
                                                         update="accordionBienes"
                                                         style="float: left; width: 170px">
                                        </p:commandButton>
                                    </div>
                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <div class="ui-g">
                                        <div class="ui-g-12">
                                            <div class="ui-g-7">
                                                <p:fieldset id="fieldsetTablaGrupo" legend="Tabla Grupo Bien" >
                                                    <div class="ui-g">
                                                        <div class="ui-g-12">
                                                            <p:dataTable id="dtGrupoBien" 
                                                                         var="grup" 
                                                                         reflow="true" 
                                                                         paginator="true" 
                                                                         lazy="true" rows="20" 
                                                                         value="#{ingresosBienesView.lazyGrupoBien}"
                                                                         rowsPerPageTemplate="10,15,20,30,50,100" 
                                                                         paginatorPosition="bottom"
                                                                         filterEvent="keyup"
                                                                         emptyMessage="No se encontró ningun Grupo para mostrar.">
                                                                <!--                                                    <f:facet name="header">
                                                                                                                        Grupos de Bienes 
                                                                                                                    </f:facet>-->
                                                                <p:column headerText="No" style="font-weight: bold; width: 6%" >
                                                                    <h:outputText value="" />   
                                                                </p:column>
                                                                <p:column headerText="Codigo" style="font-weight: bold; width: 12%;">
                                                                    <h:outputText value="#{grup.codigoBienAgrupado}"/>  
                                                                </p:column>
                                                                <p:column headerText="Descripción" filterBy="#{grup.descripcion}">
                                                                    <h:outputText value="#{grup.codigoBien} #{grup.descripcion}"/>  
                                                                </p:column>
                                                                <p:column headerText="Codigo Cuenta" style="width: 10%" filterBy="#{grup.cuentaContable.codigo}">
                                                                    <h:outputText value="#{grup.cuentaContable.codigo}"/>  
                                                                </p:column>
                                                                <p:column headerText="Descripción Cuenta" style="font-weight: bold" filterBy="#{grup.cuentaContable.id}">
                                                                    <f:facet name="filter">
                                                                        <p:selectOneMenu onchange="PF('dtGrupoBien').filter()" styleClass="custom-filter"   style="width: 100%;">
                                                                            <f:selectItem itemLabel="Todos" itemValue="#{null}" noSelectionOption="true" />
                                                                            <f:selectItems value="#{ingresosBienesView.listBienesItemFilterCta}" var="bien" itemLabel="#{bien.descripcion}" 
                                                                                           itemValue="#{bien.id}"/>
                                                                        </p:selectOneMenu>
                                                                    </f:facet>
                                                                    <h:outputText value="#{grup.cuentaContable.descripcion}"/>  
                                                                </p:column>
                                                                <p:column headerText="Acciones" style="font-weight: bold; width: 12%">
                                                                    <center>   
                                                                        <p:commandLink title="Editar" process="@this" actionListener="#{ingresosBienesView.formNewGrupo(grup)}"
                                                                                       update="accordionBienes">
                                                                            <i class="fa fa-edit" style="font-size: 1.5em; margin-right: 5px; color: #00b0ff;"></i>
                                                                        </p:commandLink>       
                                                                        <p:commandLink title="Eliminar" process="@this" actionListener="#{ingresosBienesView.borrarBienGrupoLista(grup)}"
                                                                                       update="dtGrupoBien">
                                                                            <i class="fa fa-trash" style="font-size: 1.5em; margin-right: 5px; color: red;"></i>
                                                                            <p:confirm header="Confirmación de eliminación" message="Esta seguro de eliminar el Grupo?" icon="fa fa-exclamation-triangle" />
                                                                        </p:commandLink>       
                                                                    </center>
                                                                </p:column>
                                                            </p:dataTable>
                                                        </div></div>
                                                </p:fieldset>
                                            </div>

                                            <div class="ui-g-5">
                                                <p:panel header="Formulario Registro" id="panelformReg" rendered="#{ingresosBienesView.habilitar}">
                                                    <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid" id="pgRegistroGrupoBien">

                                                        <p:panelGrid columns="2" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                <p:outputLabel for="codigoBien" value="Codigo"/>
                                                                <p:inputText id="codigoBien" value="#{ingresosBienesView.bienesItem.codigoBien}" style="width: 28%"
                                                                             disabled="true">
                                                                    <p:keyFilter regEx="/[a-z A-Z]/i"/>
                                                                </p:inputText>
                                                            </p:panelGrid>
                                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                <p:outputLabel for="periodoGrupoB" value="Período"  style="float: right; font-weight: bold;"/>
                                                                <p:inputText id="periodoGrupoB" value="#{ingresosBienesView.bienesItem.periodo}" style="width: 21%; float: right "
                                                                             readonly="true">
                                                                </p:inputText>
                                                            </p:panelGrid>

                                                        </p:panelGrid>              
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="descripcionGrupo" value="Descripción" />
                                                            <p:inputText id="descripcionGrupo" value="#{ingresosBienesView.bienesItem.descripcion}" required="true" onkeyup="javascript:this.value = this.value.toUpperCase();" >
                                                                <p:keyFilter regEx="/[a-z0-9 _]/i"/>
                                                            </p:inputText>
                                                        </p:panelGrid>

                                                        <p:fieldset legend="Asignar Cuenta Contable" id="fsetCuentaGrupo">

                                                            <p:panelGrid columns="2" styleClass="form-group" layout="grid">
                                                                <p:panelGrid columns="1" styleClass="form-group" layout="grid" style="width: 100%">
                                                                    <p:outputLabel value="Clasificacion" escape="false"/>
                                                                    <p:selectOneMenu id="clasificacionCuentaD" value="#{ingresosBienesView.bienesItem.clasificTipoBien}" style="width: 100%"
                                                                                     styleClass="custom-filter" converter="entityConverter" filter="true" filterMatchMode="contains">
                                                                        <p:ajax listener="#{ingresosBienesView.limpiarCuentaGrupo()}" update="ccGrupo,ccDescripGrupo,codigoBien"/>
                                                                        <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                        <f:selectItems value="#{ingresosBienesView.listCuentaContableClasifGrupo}" var="cta" 
                                                                                       itemLabel="#{cta.codigo} #{cta.descripcion}" itemValue="#{cta}"/>
                                                                    </p:selectOneMenu>
                                                                </p:panelGrid>
                                                                <p:panelGrid columns="1" styleClass="form-group" layout="grid">
                                                                    <p:outputLabel for="ccGrupo" value="Cuenta Contable: " style="font-weight: bold; width: 100%;"/>
                                                                    <p:panelGrid columns="4"  style="float: left;"  styleClass="ui-panelgrid-blank">
                                                                        <p:inputText value="#{ingresosBienesView.bienesItem.cuentaContable.codigo}" 
                                                                                     id="ccGrupo"  readonly="false">
                                                                            <p:ajax update="ccGrupo"/>
                                                                            <p:keyFilter regEx="/[\d]/" preventPaste="false"/>
                                                                        </p:inputText>
                                                                        <p:commandButton title="Listado de Cuenta Contable" icon="fa fa-search" id="btn-ccGrupo"
                                                                                         actionListener="#{ingresosBienesView.buscarCuentaGrupo()}" process="@this">
                                                                            <p:ajax event="dialogReturn" listener="#{ingresosBienesView.selectCuentaGrupo}" update="codigoBien,fsetCuentaGrupo"/>
                                                                        </p:commandButton>
                                                                        <p:spacer width="10"/>

                                                                    </p:panelGrid>
                                                                </p:panelGrid>

                                                            </p:panelGrid>
                                                            <p:panelGrid columns="1" styleClass="form-group" layout="grid">
                                                                <p:outputLabel for="ccDescripGrupo" value="Descripción" style="font-weight: bold; width: 100%;"/>
                                                                <p:inputText value="#{ingresosBienesView.bienesItem.cuentaContable.descripcion}" 
                                                                             id="ccDescripGrupo" readonly="true">
                                                                </p:inputText>
                                                            </p:panelGrid>


                                                        </p:fieldset>

                                                    </p:panelGrid>
                                                    <center>
                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid" >
                                                                <p:commandLink title="Guardar" id="guardar-btn"  style="width: auto;" update="accordionBienes"
                                                                               actionListener="#{ingresosBienesView.saveGrupoBien()}"
                                                                               styleClass="Fs16">
                                                                    <p:graphicImage value="/resources/icons/disquet.png"
                                                                                    width="40" height="50" 
                                                                                    style="margin:auto;  width: auto; "/>
                                                                </p:commandLink>
                                                            </p:panelGrid>
                                                        </p:panelGrid>
                                                    </center>
                                                </p:panel>
                                            </div>
                                        </div>
                                    </div>
                                </p:tab>

                                <p:tab  title="CREAR NUEVO BIEN" id="newBien">
                                    <div style="float: right">
                                        <p:commandButton value="Nuevo Ingreso"
                                                         icon="fa fa-plus"
                                                         process="@this"
                                                         actionListener="#{ingresosBienesView.formNewBien(null)}"
                                                         update="outPanelMovimiento,codigoIngresoBien,ingresoFecha,panelDatosBB"
                                                         style="float: right; width: 170px">
                                        </p:commandButton>
                                    </div>
                                    <br></br>
                                    <br></br>
                                    <br></br>
                                    <!--<p:outputPanel id="outPanelCabecera" style="width: 100%">-->
                                    <div class="ui-g-12">
                                        <div class="ui-g">
                                            <div class="ui-g-4">
                                                <div style="float: left" id="igg">
                                                    <p:panelGrid columns="2" layout="grid" id="codigoIngresoBien" styleClass="ui-panelgrid-blank form-group">
                                                        <p:panelGrid columns="2" style="width: 350px"  >
                                                            <p:outputLabel value="REGISTRO N°:" for="ingresoNum" style="font-weight: bold"/>
                                                            <p:inputText  id="ingresoNum" style="width: 140px;font-weight: bold;" 
                                                                          class="panelInput" readonly="true"
                                                                          value="#{ingresosBienesView.bienesMovimiento.codigo}" >
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                    </p:panelGrid>
                                                </div>
                                            </div>
                                            <div class="ui-g-8">
                                                <div style="float: right" id="fif">
                                                    <p:panelGrid columns="2" layout="grid"  id="ingresoFecha" styleClass="ui-panelgrid-blank form-group">
                                                        <p:panelGrid columns="1">
                                                            <p:outputLabel value="Fecha ingreso" for="fechaIngreso" style="width: 100%;"/>
                                                            <p:calendar id="fechaIngreso" pattern="dd-MM-yyyy" mask="true" required="true" value="#{ingresosBienesView.bienesMovimiento.fechaIngreso}"/>

                                                        </p:panelGrid>
                                                        <p:panelGrid columns="1">
                                                            <p:outputLabel value="Año" for="anioIngresoBien" style="width: 100%; padding-bottom: 0px"/>
                                                            <!--                                                            <p:inputText  id="anioIngresoBien" 
                                                                                                                                      class="panelInput" readonly="false" required="true" 
                                                                                                                                      value="# {ingresosBienesView.bienesMovimiento.periodo}">
                                                            
                                                                                                                        </p:inputText>-->
                                                            <div style="text-align: right; font-size: 18px; display: block" >
                                                                <p:selectOneMenu value="#{ingresosBienesView.busqueda.anio}" style=" font-size: 18px; height:30px; width: 100%; text-align: right; border: 1px solid #009688; float: left;" id="anioIngresoBien"> 
                                                                    <f:selectItems value="#{ingresosBienesView.listaPeriodos}" var="p" itemLabel="#{p.anio}" itemValue="#{p.anio}" />
                                                                </p:selectOneMenu>
                                                            </div>
                                                        </p:panelGrid>
                                                    </p:panelGrid>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--</p:outputPanel>-->
                                    <p:fieldset style="border-color: #fff" id="cabecera">
                                        <div class="ui-g">
                                            <div class="ui-g-6">
                                                <p:panel header="TIPO DE MOVIMIENTO" id="panelMovimiento" >
                                                    <!--<p:fieldset legend="TIPO DE MOVIMIENTO" style="font-weight: bold; width: 98%; float: left" id="fsetMovimiento">-->
                                                    <p:outputPanel id="outPanelMovimiento" style="width: 100%">
                                                        <center>
                                                            <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-6" id="TipoMov" styleClass="ui-panelgrid-blank form-group">
                                                                <p:panelGrid columns="1" styleClass="form-group" style="width: 100%">
                                                                    <p:outputLabel value="Tipo de Bien" escape="false" style="font-weight:bold"/>
                                                                    <p:selectOneMenu id="tipoBien" value="#{ingresosBienesView.bienesItemRegistro.tipoBien}" style="width: 95%"
                                                                                     styleClass="custom-filter" converter="entityConverter">
                                                                        <p:ajax  listener="#{ingresosBienesView.mostrarClasificacionCuenta()}" update="asignarCtacbl"/>
                                                                        <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                        <f:selectItems value="#{ingresosBienesView.listCatalogoItem}" var="tipo" 
                                                                                       itemLabel="#{tipo.texto}" itemValue="#{tipo}"/>
                                                                    </p:selectOneMenu>
                                                                </p:panelGrid>
                                                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%">
                                                                    <p:outputLabel value="Tipo de Movimiento del Bien" escape="false" style="font-weight:bold"/>
                                                                    <p:selectOneMenu id="tipoAdquisicion" value="#{ingresosBienesView.bienesMovimiento.motivoMovimiento}" style="width: 95%"
                                                                                     styleClass="custom-filter" converter="entityConverter">
                                                                        <p:ajax  listener="#{ingresosBienesView.mostrarClasificacionCuenta()}" update="accordionBienes"/>
                                                                        <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                        <f:selectItems value="#{ingresosBienesView.listMotivoMovimiento}" var="motivo" 
                                                                                       itemLabel="#{motivo.texto}" itemValue="#{motivo}"/>
                                                                    </p:selectOneMenu>
                                                                </p:panelGrid>
                                                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%" id="tipoOrdenAdquisicion" rendered="#{ingresosBienesView.adquisicion}">
                                                                    <p:outputLabel value="Tipo de Adquisiciones" escape="false"/>
                                                                    <p:selectOneMenu id="tipoOrdenCompra" value="#{ingresosBienesView.bienesRegReferencia.adquisiciones.tipo}"  style="width: 95%"
                                                                                     styleClass="custom-filter" converter="entityConverter">
                                                                        <!--<p:ajax  listener="# {ingresosBienesView.mostrarClasificacionCuenta()}" update="asignarCtacbl"/>-->
                                                                        <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                        <f:selectItems value="#{ingresosBienesView.listGestionAdquisiciones}" var="tipo" 
                                                                                       itemLabel="#{tipo.texto}" itemValue="#{tipo}"/>
                                                                    </p:selectOneMenu>
                                                                </p:panelGrid>


                                                                <p:spacer width="10"/>
                                                            </p:panelGrid>
                                                        </center>
                                                    </p:outputPanel>
                                                    <!--</p:fieldset>-->
                                                </p:panel>
                                            </div>
                                            <div class="ui-g-6">
                                                <p:panel header="CATALOGO BIENES" id="panelCatalogoBienes" style="width: 97%; float: right" >
                                                    <!--<p:fieldset legend="CATALOGO BIENES" style="font-weight: bold; width: 95%; float: right" id="fsetCatalogo">-->
                                                    <p:outputPanel id="outPanelCatalogo" style="width: 100%">
                                                        <center>
                                                            <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-6" id="bienCatalogo" styleClass="ui-panelgrid-blank form-group">
                                                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%;" id="catalogoBien">
                                                                    <p:outputLabel for="mef" value="Bienes (MEF)" escape="false"/>
                                                                    <p:panelGrid columns="2"  style="float: left; height: 20px; width: 80%">
                                                                        <p:inputText value="#{ingresosBienesView.catalogoBLD.idBien}" maxlength="12" id="mef"
                                                                                     placeholder="000000000000" style="margin-top: 3%;" readonly="false">
                                                                            <p:keyFilter regEx="/[\d]/"/>
                                                                        </p:inputText>

                                                                        <p:commandButton 
                                                                            title="Buscar Catalogo de Bienes" 
                                                                            icon="fa fa-search" id="btn-catalogoBien"
                                                                            styleClass="green-button button-group" 
                                                                            actionListener="#{ingresosBienesView.openDlgBienMEF()}"
                                                                            process="mef">
                                                                            <!--<p:ajax event="dialogReturn" listener="# {ingresosBienesView.selectDataCatalogo}" update="mef, descMef"/>-->
                                                                        </p:commandButton>
                                                                    </p:panelGrid>
                                                                </p:panelGrid>
                                                                <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%" id="descCatalogoBien">
                                                                    <p:outputLabel for="descMef" value="Descripción" escape="false"/>
                                                                    <p:inputText value="#{ingresosBienesView.catalogoBLD.descripcion}" id="descMef"
                                                                                 style="margin-top: 3%;" readonly="true">
                                                                    </p:inputText>
                                                                </p:panelGrid>

                                                            </p:panelGrid>
                                                        </center>
                                                    </p:outputPanel>
                                                    <!--</p:fieldset>-->
                                                </p:panel>
                                            </div>
                                        </div>
                                    </p:fieldset>

                                    <div class="ui-g">
                                        <div class="ui-g-12">
                                            <div class="ui-g-6">
                                                <!--<p:panelGrid columns="2" styleClass="form-group ui-panelgrid-blank" layout="grid">-->
                                                <p:panel header="ASIGNAR CUENTA CONTABLE" id="asignarCtacbl" >
                                                    <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <!--<h:panelGroup layout="block" style="width: 100%;" class="panelInput" >-->
                                                        <p:panelGrid columns="2" styleClass="form-group ui-panelgrid-blank" style="width: 100%;">
                                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%; float: right">
                                                                <p:outputLabel value="Clasificacion" escape="false" for="clasificacionCuenta"/>
                                                                <p:selectOneMenu id="clasificacionCuenta" value="#{ingresosBienesView.bienesItemRegistro.clasificacionTipoBien}" style="width: 95%"
                                                                                 styleClass="custom-filter" converter="entityConverter" filter="true" filterMatchMode="contains">
                                                                    <!--<p:ajax  listener="# {presupuestoView.actualizarTable()}" update="dataTable"/>-->
                                                                    <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                    <f:selectItems value="#{ingresosBienesView.listCuentaContable}" var="cta" 
                                                                                   itemLabel="#{cta.codigo} #{cta.nombre}" itemValue="#{cta}"/>
                                                                </p:selectOneMenu>
                                                            </p:panelGrid>
                                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%;">
                                                                <p:outputLabel for="ctaContable" value="Cuenta Contable: " style="font-weight: bold; width: 100%; margin-left: 4px"/>
                                                                <p:panelGrid columns="2"  style="float: left;"  styleClass="ui-panelgrid-blank">
                                                                    <p:inputText value="#{ingresosBienesView.cuentaContable.codigo}" 
                                                                                 id="ctaContable" readonly="false">
                                                                        <p:keyFilter regEx="/[\d]/"/>
                                                                        <p:ajax update="ctaContable"/>
                                                                    </p:inputText>
                                                                    <p:commandButton title="Listado de Cuenta Contable" icon="fa fa-search" id="btn-cuenta" process="@this,clasificacionCuenta"
                                                                                     actionListener="#{ingresosBienesView.buscarCuenta()}">
                                                                        <p:ajax event="dialogReturn" listener="#{ingresosBienesView.selectCuentaBien}" update="asignarCtacbl"/>
                                                                    </p:commandButton>

                                                                </p:panelGrid>
                                                            </p:panelGrid>
                                                        </p:panelGrid>




                                                        <p:outputLabel for="descCtaContable" value="Descripción" style="font-weight: bold; width: 100%;"/>
                                                        <p:inputText value="#{ingresosBienesView.cuentaContable.descripcion} " 
                                                                     id="descCtaContable" readonly="true">
                                                            <p:keyFilter regEx="/[\d]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>
                                                </p:panel>
                                            </div>
                                            <div class="ui-g-6">
                                                <p:panel header="ASIGNAR GRUPO DE ACTIVO FIJO" id="asignarCtaGru" style="width: 97%; float: right">
                                                    <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">

                                                        <!--<h:panelGroup layout="block" style="width: 100%;" class="panelInput" >-->
                                                        <p:outputLabel for="activoFijo" value="Grupo Activo: " style="font-weight: bold; width: 100%;"/>
                                                        <p:panelGrid columns="4"  style="float: left;"  styleClass="ui-panelgrid-blank">
                                                            <p:inputText value="#{ingresosBienesView.bienesItemRegistro.grupoPadre.codigoBienAgrupado}" 
                                                                         id="activoFijo" 
                                                                         placeholder="11111.."  readonly="false">
                                                                <!--<p:keyFilter regEx="/[\d]/"/>-->
                                                            </p:inputText>
                                                            <p:commandButton title="Listado de Grupo Activo" icon="fa fa-search" id="btn-grupoB" process="@this,activoFijo,ctaContable" 
                                                                             actionListener="#{ingresosBienesView.buscarGrupoBien()}" update="asignarCtaGru">
                                                                <!--<p:ajax event="dialogReturn" update="frmMain"/>-->
                                                            </p:commandButton>
                                                            <p:spacer width="10"/>

                                                        </p:panelGrid>
                                                        <br></br>
                                                        <p:outputLabel for="descActivoFijo" value="Descripción" style="font-weight: bold; width: 100%;"/>
                                                        <p:inputText value="#{ingresosBienesView.bienesItemRegistro.grupoPadre.descripcion}" 
                                                                     id="descActivoFijo" readonly="true">
                                                            <p:keyFilter regEx="/[\d]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>
                                                </p:panel>
                                            </div>
                                            <!--</p:panelGrid>-->
                                        </div>
                                    </div>
                                    <div class="ui-g">
                                        <div class="ui-g-12">
                                            <div class="ui-g-6">
                                                <!--<p:fieldset style="font-weight: bold; border-color: #fff">-->
                                                <p:panel header="DATOS DEL BIEN" id="panelDatosBB" style="font-weight: bold;">
                                                    <!--<p:fieldset style=" font-weight: bold; width: 98%;" legend="DATOS DEL BIEN" id="datosBB">-->
                                                    <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" layout="grid">

                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="codigoItemBien" value="Codigo"/>
                                                            <p:inputText id="codigoItemBien" value="#{ingresosBienesView.bienesItemRegistro.codigoBienAgrupado}" style="width: 52%" disabled="true">
                                                                <p:keyFilter regEx="/[a-z A-Z]/i"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="descripcionBien" value="Descripción"/>
                                                            <p:inputText id="descripcionBien" value="#{ingresosBienesView.bienesItemRegistro.descripcion}"  style="width: 220%" 
                                                                         onkeyup="javascript:this.value = this.value.toUpperCase();">
                                                            </p:inputText>
                                                        </p:panelGrid>   
                                                        <p:spacer width="1"/>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="marca" value="Marca" />
                                                            <p:inputText id="marca" value="#{ingresosBienesView.bienesItemRegistro.marca}" 
                                                                         onkeyup="javascript:this.value = this.value.toUpperCase();">
                                                                <p:keyFilter regEx="/[a-z0-9_]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="modelo" value="Modelo" />
                                                            <p:inputText id="modelo" value="#{ingresosBienesView.bienesItemRegistro.modelo}"  
                                                                         onkeyup="javascript:this.value = this.value.toUpperCase();">
                                                                <p:keyFilter regEx="/[a-z0-9_]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="color1" value="Color 1" />
                                                            <p:inputText id="color1" value="#{ingresosBienesView.bienesItemRegistro.color1}"  
                                                                         onkeyup="javascript:this.value = this.value.toUpperCase();">
                                                                <p:keyFilter regEx="/[a-z A-Z]/i"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="color2" value="Color 2" />
                                                            <p:inputText id="color2" value="#{ingresosBienesView.bienesItemRegistro.color2}" 
                                                                         onkeyup="javascript:this.value = this.value.toUpperCase();">
                                                                <p:keyFilter regEx="/[a-z A-Z]/i"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="serie1" value="Serie 1" />
                                                            <p:inputText id="serie1" value="#{ingresosBienesView.bienesItemRegistro.serie1}"   >
                                                                <p:keyFilter regEx="/[a-z A-Z]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="serie2" value="Serie 2" />
                                                            <p:inputText id="serie2" value="#{ingresosBienesView.bienesItemRegistro.serie2}"   >
                                                                <p:keyFilter regEx="/[a-z A-Z]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="anioFab" value="Año de Fabricación" />
                                                            <p:inputText id="anioFab" value="#{ingresosBienesView.bienesItemRegistro.anioFabricacion}"   >
                                                                <p:keyFilter regEx="/[\d\-]/"/>
                                                            </p:inputText>
                                                        </p:panelGrid>
                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel for="materialBien" value="Material del Bien" />
                                                            <p:inputText id="materialBien" value="#{ingresosBienesView.bienesItemRegistro.materialBien}"   >
                                                                <p:keyFilter regEx="/[a-z A-Z]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>

                                                        <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" rendered="false" layout="grid">
                                                            <p:outputLabel for="codigoCatastral" value="Codigo Catastral" />
                                                            <p:inputText id="codigoCatastral" value=""   >
                                                                <p:keyFilter regEx="/[a-z A-Z]/i" preventPaste="false"/>
                                                            </p:inputText>
                                                        </p:panelGrid>

                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel value="Estado del Bien" escape="false"/>
                                                            <p:selectOneMenu id="estado" value="#{ingresosBienesView.bienesItemRegistro.estadoBien}"
                                                                             styleClass="custom-filter" converter="entityConverter">
                                                                <!--<p:ajax  listener="# {presupuestoView.actualizarTable()}" update="dataTable"/>-->
                                                                <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                <f:selectItems value="#{ingresosBienesView.listEstadoBien}" var="estado" itemLabel="#{estado.texto}" itemValue="#{estado}"/>
                                                            </p:selectOneMenu>
                                                        </p:panelGrid>
                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel value="Uso" escape="false"/>
                                                            <p:selectOneMenu id="uso" value="#{ingresosBienesView.bienesItemRegistro.uso}"
                                                                             styleClass="custom-filter">
                                                                <!--<p:ajax  listener="# {presupuestoView.actualizarTable()}" update="dataTable"/>-->
                                                                <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                                <f:selectItem itemLabel="Activo" itemValue="#{true}"/>
                                                                <f:selectItem itemLabel="Inactivo" itemValue="#{false}"/> 
                                                            </p:selectOneMenu>
                                                        </p:panelGrid>

                                                        <p:panelGrid columns="1" layout="grid" style="width: 250px; " styleClass="ui-panelgrid-blank form-group" id="gridProyecto">
                                                            <p:outputLabel  value="Componentes" for="proyecto" style="width: 150px; font-weight: bold" />
                                                            <p:selectBooleanButton  id="proyecto" required="false" style="width: 80px"
                                                                                    value="#{ingresosBienesView.bienesItemRegistro.componente}" 
                                                                                    onLabel="Si" offLabel="No" offIcon="fa fa-times" onIcon="fa fa-check">
                                                                <p:ajax update="gridComponentes" event="valueChange"/>
                                                            </p:selectBooleanButton>
                                                        </p:panelGrid>

                                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                            <p:outputLabel value="Lote" escape="false" for="lote" style="width: 150px; font-weight: bold"/>
                                                            <p:selectBooleanButton  id="lote" required="false" style="width: 80px"
                                                                                    value="#{ingresosBienesView.lote}" 
                                                                                    onLabel="Si" offLabel="No" offIcon="fa fa-times" onIcon="fa fa-check">
                                                                <p:ajax update="cantidad" event="valueChange"/>
                                                            </p:selectBooleanButton>
                                                        </p:panelGrid>

                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid" style="margin-left: 10px; margin-right: 3px">
                                                        <p:outputLabel for="observacion" value="Observacion" />
                                                        <p:inputTextarea id="observacion" value="" rows="3" autoResize="false" required="#{ingresosBienesView.bienesMovimiento.motivoMovimiento.orden eq 1 ? true:false}">
                                                        </p:inputTextarea>
                                                    </p:panelGrid>
                                                </p:panel>
                                                <!--                                            </p:fieldset>-->
                                            </div>
                                            <div class="ui-g-6">
                                                <div class="ui-g">
                                                    <div class="ui-g-12" style="margin-left: 10px">
                                                        <p:panel header="DIMENSIONES DEL BIEN" id="dimensiones" style="font-weight: bold;">

                                                            <!--<p:fieldset style="margin-bottom:40px; font-weight: bold; width: 98%;" legend="DIMENSIONES DEL BIEN">-->
                                                            <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" layout="grid">


                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="alto" value="Alto" />
                                                                    <p:inputText id="alto" value="#{ingresosBienesView.bienesItemRegistro.alto}"  >
                                                                        <p:keyFilter regEx="/[a-z0-9_]/i" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="ancho" value="Ancho" />
                                                                    <p:inputText id="ancho" value="#{ingresosBienesView.bienesItemRegistro.ancho}"   >
                                                                        <p:keyFilter regEx="/[a-z0-9_]/i" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="largo" value="Largo" />
                                                                    <p:inputText id="largo" value="#{ingresosBienesView.bienesItemRegistro.largo}"   >
                                                                        <p:keyFilter regEx="/[a-z0-9_]/i" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                            </p:panelGrid>
                                                            <!--</p:fieldset>-->
                                                        </p:panel>
                                                        <br></br>
                                                        <!--Agregar Datos Adicionales-->
                                                        <p:panel header="DATOS ADICIONALES" id="datosAdicionales" style="font-weight: bold;">

                                                            <!--<p:fieldset style="margin-bottom:40px; font-weight: bold; width: 98%;" legend="DIMENSIONES DEL BIEN">-->
                                                            <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" layout="grid">


                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="placaCodigoCatastral" value="Placa / Código Catastral" />
                                                                    <p:inputText id="placaCodigoCatastral" value=""  >
                                                                        <p:keyFilter regEx="/[\d\-]/" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="motorUbicacion" value="N° Serie Motor / Ubicacion" />
                                                                    <p:inputText id="motorUbicacion" value=""   >
                                                                        <p:keyFilter regEx="/[\d\-]/" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="chasis" value="N° Chasis" />
                                                                    <p:inputText id="chasis" value=""   >
                                                                        <p:keyFilter regEx="/[\d\-]/" preventPaste="false"/>
                                                                    </p:inputText>
                                                                </p:panelGrid>
                                                                <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                                    <p:outputLabel for="fechInscripcion" value="Fecha de Inscripcion" />
                                                                    <p:calendar pattern="dd-MM-yyyy" mask="true" id="fechInscripcion" value="" />

                                                                </p:panelGrid>
                                                            </p:panelGrid>
                                                            <!--</p:fieldset>-->
                                                        </p:panel>
                                                        <br></br>
                                                        <p:panel header="DATOS DE #{ingresosBienesView.bienesMovimiento.motivoMovimiento.texto eq null ? 'OFICIO':ingresosBienesView.bienesMovimiento.motivoMovimiento.texto}" id="panelDocReferencia" rendered="#{ingresosBienesView.docReferencia}"><!--Desaparecer cuando sea Saldo Inicial-->
                                                            <!--<p:fieldset legend="CATALOGO BIENES" style="font-weight: bold; width: 95%; float: right" id="fsetCatalogo">-->
                                                            <p:outputPanel id="outPanelOficio" style="width: 100%">
                                                                <center>

                                                                    <p:panelGrid columns="3"  layout="grid" styleClass="ui-panelgrid-blank form-group">
                                                                        <p:panelGrid columns="1" >
                                                                            <p:outputLabel value="N° #{ingresosBienesView.bienesMovimiento.motivoMovimiento.texto eq null ? 'OFICIO':'Referencia'}" for="numOficio" style="width: 100%;"/>
                                                                            <p:inputText  id="numOficio" style="text-transform: uppercase" 
                                                                                          value="#{procesoIngresoInvView.oficio.numeroOficio}" class="panelInput" readonly="false" >
                                                                            </p:inputText>
                                                                        </p:panelGrid>

                                                                        <p:panelGrid  columns="1"  >
                                                                            <p:outputLabel value="Fecha #{ingresosBienesView.bienesMovimiento.motivoMovimiento.texto eq null ? 'Oficio':ingresosBienesView.bienesMovimiento.motivoMovimiento.texto}" style="width: 100%;"></p:outputLabel>
                                                                            <p:calendar id="fecOficio" pattern="dd-MM-yyyy" mask="true" required="true" 
                                                                                        value="#{procesoIngresoInvView.oficio.fechaOficio}"/>
                                                                        </p:panelGrid>
                                                                    </p:panelGrid>

                                                                </center>
                                                            </p:outputPanel>
                                                        </p:panel>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div><!--EYYYYYYYYYYYY-->
                                    <br></br>
                                    <div class="ui-g-12">
                                        <div class="ui-g-6" >
                                            <p:panel header="DATOS DE ADQUISICION" id="panelAdquisicion" rendered="#{ingresosBienesView.adquisicion}">
                                                <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" style="font-weight: bold;" layout="grid">

                                                    <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" style="width: 100%;" id="ordenAdquisicion">
                                                        <p:outputLabel for="adq" value="N° Orden" escape="false"/>
                                                        <p:panelGrid columns="2"  style="float: left; height: 20px; width: 95%">
                                                            <p:inputText value="#{ingresosBienesView.adquisicionesOrden.numeroOrden}" maxlength="12" id="adq"
                                                                         readonly="false">
                                                                <p:keyFilter regEx="/[\d]/"/>
                                                            </p:inputText>

                                                            <p:commandButton 
                                                                title="Buscar Orden de Adquisicion" 
                                                                icon="fa fa-search" id="btn-buscar-adquisicion"
                                                                styleClass="green-button button-group"
                                                                actionListener="#{ingresosBienesView.openDlgAdquisicion()}"
                                                                process="adq">
                                                                <!--<p:ajax event="dialogReturn" listener="# {ingresosBienesView.selectDataCatalogo}" update="mef, descMef"/>-->
                                                            </p:commandButton>
                                                        </p:panelGrid>
                                                    </p:panelGrid>

                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="fechaEmisionAdq" value="Fecha de Emisión" />
                                                        <p:calendar pattern="dd-MM-yyyy" mask="true" id="fechaEmisionAdq" value="#{ingresosBienesView.adquisicionesOrden.fechaEmision}" />
                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="fechaAceptacionAdq" value="Fecha de Aceptación" />
                                                        <p:calendar pattern="dd-MM-yyyy" mask="true" id="fechaAceptacionAdq" value="#{ingresosBienesView.adquisicionesOrden.fechaAceptacion}" />
                                                    </p:panelGrid>
                                                </p:panelGrid>
                                            </p:panel>
                                        </div>
                                        <div class="ui-g-6" >
                                            <p:panel header="PROVEEDOR" id="panelAdquisicionProveedor" style="width: 96%; margin-left: 13px" rendered="#{ingresosBienesView.adquisicion}"> <!--Desaparecer cuando -->
                                                <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" style="font-weight: bold;" layout="grid">

                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="proveedorAdq" value="RUC" />
                                                        <p:inputText id="proveedorAdq" value="#{ingresosBienesView.adquisicionesOrden.proveedor.cliente.identificacion}"   >
                                                            <p:keyFilter regEx="/[\d\-]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>

                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="razonSocialAdq" value="Razón Social" />
                                                        <p:inputText id="razonSocialAdq" value="#{ingresosBienesView.adquisicionesOrden.proveedor.cliente.nombre}" >
                                                            <f:convertNumber type="currency" currencySymbol="$" currencyCode="USD" locale="es_EC"/>

                                                        </p:inputText>
                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="nomComercialAdq" value="Nombre Comercial" />
                                                        <p:inputText id="nomComercialAdq" value="#{ingresosBienesView.adquisicionesOrden.proveedor.cliente.apellido}"  readonly="true" ><!--Falta hacer una condicion para el readonly cuando sea lote-->

                                                        </p:inputText>
                                                    </p:panelGrid>

                                                </p:panelGrid>
                                                <br></br>
                                            </p:panel>
                                        </div>
                                        <div class="ui-g-6" >
                                            <p:panel header="DATOS DE FACTURA" id="panelFactura" style="width: 95%;" rendered="#{ingresosBienesView.facturaBoolean}">

                                                <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" style="font-weight: bold;" layout="grid">

                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="fechaAdquisicion" value="Fecha de Compra" />
                                                        <p:calendar pattern="dd-MM-yyyy" mask="true" id="fechaAdquisicion" value="#{ingresosBienesView.bienesItemRegistro.fechaAdquisicion}" />
                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="vidaUtil" value="Vida Útil" />
                                                        <p:inputText id="vidaUtil" value="#{ingresosBienesView.bienesItemRegistro.vidaUtil}"   >
                                                            <p:keyFilter regEx="/[\d\-]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>
                                                    <p:spacer width="1"/>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="costo" value="Costo de Adquisición" />
                                                        <p:inputText id="costo" value="#{ingresosBienesView.bienesItemRegistro.costoAdquisicion}" >
                                                            <f:convertNumber type="currency" currencySymbol="$" currencyCode="USD" locale="es_EC"/>
                                                            <p:keyFilter regEx="/[\d\-\.]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="cantidad" value="Cantidad" />
                                                        <p:inputText id="cantidad" value="#{ingresosBienesView.bienesItemRegistro.cantidad}" readonly="#{ingresosBienesView.lote eq true ? false:true}" ><!--Falta hacer una condicion para el readonly cuando sea lote-->
                                                            <p:keyFilter regEx="/[\d\-]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>
                                                    <p:panelGrid  columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                        <p:outputLabel for="valorTotal" value="Valor Total" />
                                                        <p:inputText id="valorTotal" value="#{ingresosBienesView.bienesItemRegistro.valorTotal}" >
                                                            <f:convertNumber type="currency" currencySymbol="$" currencyCode="USD" locale="es_EC"/>
                                                            <p:keyFilter regEx="/[\d\-\.]/"/>
                                                        </p:inputText>
                                                    </p:panelGrid>

                                                </p:panelGrid>
                                            </p:panel>
                                        </div>

                                        <div class="ui-g-12">
                                            <p:panelGrid columns="1" styleClass="ui-panelgrid-blank form-group" id="gridComponentes">
                                                <p:panel header="COMPONENTES DEL BIEN" id="gridComponentesB" style="font-weight: bold;"
                                                         rendered="#{ingresosBienesView.readOnlyElementForm(ingresosBienesView.bienesItemRegistro.componente)}">
                                                    <!--                                                        <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group" id="gridComponentes">-->
                                                    <!--                                                            <p:fieldset style="margin-bottom:40px; font-weight: bold; width: 98%;" legend="COMPONENTES DEL BIEN" id="fsetComponentes"
                                                                                                                            >-->
                                                    <p:commandButton value="Adicionar" icon="fa fa-plus" id="btnNewComponente" 
                                                                     process="@this" actionListener="#{ingresosBienesView.newComponentes(null)}" update="dtComponentes"
                                                                     style=" float: right; width: 130px"> 
                                                        <!--                                                            <p:ajax event="dialogReturn" 
                                                                                                                            listener="# {ordenRequisicionView.selectDatosItem}" update="dtItem"/>-->
                                                    </p:commandButton>
                                                    <p:spacer height="35"/>
                                                    <h:panelGroup id="dataTableComp" layout="block" style="font-weight: normal">

                                                        <p:dataTable id="dtComponentes" widgetVar="dtComponentes" var="item" paginator="true" rows="5" 
                                                                     style="width: 100%; text-align: center" paginatorPosition="bottom" 
                                                                     currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}" filterEvent="keyup"
                                                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                     rowsPerPageTemplate="10,15,20,30,40,50,100" editable="true" editMode="cell" paginatorAlwaysVisible="false"
                                                                     rowIndexVar="can" value="#{ingresosBienesView.listBienesComponentes}"
                                                                     emptyMessage="No existen componentes asignados al Bien..." >

                                                            <!--<p:ajax event="cellEdit" listener="# {ordenRequisicionView.onCellEdit}" />-->
                                                            <p:column headerText="#" style="font-weight: bold; width: 5%; font-size: 12px;" >
                                                                <h:outputText value="#{can +1 }"/>
                                                            </p:column>
                                                            <!--                                                                <p:column headerText="Item" style="width: 20%; font-size: 12px;" filterBy="">
                                                                                                                                <h:outputText value="# {item.codigo}" />
                                                                                                                            </p:column>-->
                                                            <p:column headerText="Descripción" style="width: 40%; font-size: 12px;" filterBy="">
                                                                <h:outputText value="#{item.descripcion}" />
                                                            </p:column>
                                                            <p:column headerText="Marca" style="width: 20%; font-size: 12px;" filterBy="">
                                                                <h:outputText value="#{item.marca}" />
                                                            </p:column>
                                                            <p:column headerText="Modelo" style="width: 20%; font-size: 12px;" filterBy="">
                                                                <h:outputText value="#{item.modelo}" />
                                                            </p:column>
                                                            <p:column headerText="Serie" style="width: 20%; font-size: 12px;" filterBy="">
                                                                <h:outputText value="#{item.serie1}" />
                                                            </p:column>
                                                            <p:column headerText="Cantidad" style="width: 30%; font-size: 12px;" filterBy="">
                                                                <p:cellEditor>
                                                                    <f:facet name="output"><h:outputText value="#{item.cantidad}" /></f:facet>
                                                                    <f:facet name="input"><p:inputText value="#{item.cantidad}" style="width:100%"/></f:facet>
                                                                </p:cellEditor>
                                                            </p:column>
                                                            <!--                                                                <p:column headerText="Acciones" style="width: 15%; font-size: 12px;">
                                                                                                                                <p:commandLink  title="Modificar" process="@this" update="dtItems">
                                                                                                                                    <i class="fa fa-check" style="font-size: 1.5em; margin-right: 8px; color: #0D47A1;"></i>
                                                                                                                                </p:commandLink>
                                                            
                                                                                                                                <p:commandLink title="Eliminar"  process="@this">
                                                                                                                                    <i class="fa fa-trash" style="font-size: 1.5em; margin-right: 8px; color: red;"></i>
                                                                                                                                    <p:confirm header="Confirmación de eliminación" message="Esta seguro de eliminar el item?" icon="fa fa-exclamation-triangle" />
                                                                                                                                </p:commandLink> 
                                                                                                                            </p:column>-->
                                                        </p:dataTable>
                                                    </h:panelGroup>

                                                </p:panel>
                                            </p:panelGrid>
                                        </div>


                                    </div>


                                    <center>
                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid" >
                                                <p:outputLabel value=""/>
                                                <p:commandLink title="Guardar" id="buscar-btn"  style="width: auto; " process="@this"
                                                               actionListener="#{ingresosBienesView.saveBienItem()}"
                                                               styleClass="Fs16">
                                                    <p:graphicImage value="/resources/icons/disquet.png"
                                                                    width="40" height="50" 
                                                                    style="margin:auto;  width: auto; "/>
                                                </p:commandLink>
                                            </p:panelGrid>
                                        </p:panelGrid>
                                    </center>


                                </p:tab>
                            </p:accordionPanel>



                        </div>
                    </div>
                </div>
            </div>
        </h:form>

        <p:dialog header="INGRESO DE ITEM"
                  widgetVar="dlgGrupoBien"
                  modal="true" width="80%"
                  resizable="false"
                  showEffect="fade"
                  hideEffect="fade"
                  id="dlgGrupoBien">
            <h:form prependId="false" id="frmItem" style="width: 100%">
                <div class="ui-g">
                    <div class="ui-g-12">
                        <div class="card card-w-title">
                            <p:dataTable id="dtDlgGrupBien" 
                                         widgetVar="dtDlgGrupBien"
                                         var="grup" value="#{ingresosBienesView.listBienesItem}"
                                         reflow="true" 
                                         paginator="true" 
                                         lazy="true" rows="10" 
                                         rowsPerPageTemplate="10,50,100" 
                                         paginatorPosition="bottom"
                                         filterEvent="keyup"
                                         emptyMessage="No existe Grupo Bien de esa cuenta Contable."
                                         paginatorAlwaysVisible="false">
                                <f:facet name="header">
                                    Lista de Cuentas
                                </f:facet>
                                <p:column headerText="CODIGO" style="width: 8%; font-size: 15px; text-align: center; margin-bottom: 5px" filterBy="#{grup.codigoBienAgrupado}">
                                    <h:outputText value="#{grup.codigoBienAgrupado}" />

                                </p:column>
                                <p:column headerText="Descripción" style="width: 50%; font-size: 15px;" filterBy="#{grup.codigoBien} #{grup.descripcion}">
                                    <h:outputText value="#{grup.codigoBien} #{grup.descripcion}"/>
                                </p:column>
                                <p:column headerText="Codigo Cta" style="width: 50%; font-size: 15px;" filterBy="#{grup.cuentaContable.codigo}">
                                    <h:outputText value="#{grup.cuentaContable.codigo}"/>
                                </p:column>
                                <p:column headerText="Descripción Cuenta" style="font-weight: bold" filterBy="#{grup.cuentaContable.descripcion}">
                                    <h:outputText value="#{grup.cuentaContable.descripcion}"/>  
                                </p:column>
                                <p:column headerText="Acciones" style="text-align: center; width: 8%; font-size: 15px;">
                                    <p:commandButton icon="fa fa-arrow-circle-o-left" actionListener="#{ingresosBienesView.selectGrupoBien(grup)}"
                                                     title="Seleccionar Grupo y cerrar" update="frmMain"/>
                                </p:column>
                            </p:dataTable>
                        </div>
                    </div>
                </div>
            </h:form>
        </p:dialog>



        <p:dialog id="dlgComponentes" header="Formulario de Componentes" 
                  widgetVar="dlgComponentes" width="600"
                  modal="true" showEffect="fade" hideEffect="fade" resizable="false" >
            <h:form id="frmdlgComp" prependId="false">
                <div class="ui-g">
                    <div class="ui-g-12">
                        <div class="card card-w-title">
                            <p:outputPanel id="outPanelComponentes" style="width: 100%">
                                <p:fieldset legend="Datos de Componentes">
                                    <center>
                                        <p:panelGrid columns="2" layout="grid"  id="pgComponente" styleClass="ui-panelgrid-blank form-group">
                                            <p:panelGrid columns="1">
                                                <p:outputLabel value="Codigo" for="codigoComp" style="width: 100%; font-weight: bold;"/> <p:spacer width="10"/>
                                                <p:inputText  id="codigoComp" value="#{ingresosBienesView.bienesItemComponentes.codigoBien}"
                                                              onkeyup="javascript:this.value = this.value.toUpperCase();"
                                                              class="panelInput" readonly="false" disabled="true">
                                                </p:inputText>
                                            </p:panelGrid>
                                            <p:spacer width="1"/>
                                            <p:panelGrid columns="1">
                                                <p:outputLabel value="Descripción" for="descripcionComp" style="width: 100%; font-weight: bold;"/> <p:spacer width="10"/>
                                                <p:inputText  id="descripcionComp" value="#{ingresosBienesView.bienesItemComponentes.descripcion}"
                                                              onkeyup="javascript:this.value = this.value.toUpperCase();"
                                                              class="panelInput" >
                                                </p:inputText>
                                            </p:panelGrid>
                                            <p:panelGrid columns="1">
                                                <p:outputLabel value="Serie" for="serieComp" style="width: 100%; font-weight: bold;"/> <p:spacer width="10"/>
                                                <p:inputText  id="serieComp" value="#{ingresosBienesView.bienesItemComponentes.serie1}"
                                                              onkeyup="javascript:this.value = this.value.toUpperCase();"
                                                              class="panelInput" >
                                                </p:inputText>
                                            </p:panelGrid>
                                            <p:panelGrid columns="1">
                                                <p:outputLabel value="Marca" for="marcaComp" style="width: 100%; font-weight: bold;"/> <p:spacer width="10"/>
                                                <p:inputText  id="marcaComp" value="#{ingresosBienesView.bienesItemComponentes.marca}"
                                                              onkeyup="javascript:this.value = this.value.toUpperCase();"
                                                              class="panelInput" >
                                                </p:inputText>
                                            </p:panelGrid>
                                            <p:panelGrid columns="1">
                                                <p:outputLabel value="Modelo" for="modeloComp" style="width: 100%; font-weight: bold;"/> <p:spacer width="10"/>
                                                <p:inputText  id="modeloComp" value="#{ingresosBienesView.bienesItemComponentes.modelo}"
                                                              onkeyup="javascript:this.value = this.value.toUpperCase();"
                                                              class="panelInput" >
                                                </p:inputText>
                                            </p:panelGrid>
                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                                <p:outputLabel value="Estado del Componente" escape="false"/>
                                                <p:selectOneMenu id="estadoComp" value="#{ingresosBienesView.bienesItemComponentes.estadoBien}" style="width: 70%"
                                                                 styleClass="custom-filter" converter="entityConverter">
                                                    <!--<p:ajax  listener="# {presupuestoView.actualizarTable()}" update="dataTable"/>-->
                                                    <f:selectItem itemLabel="Seleccione:" itemValue="#{null}" noSelectionOption="true"/>
                                                    <f:selectItems value="#{ingresosBienesView.listEstadoBien}" var="estado" itemLabel="#{estado.texto}" itemValue="#{estado}"/>
                                                </p:selectOneMenu>
                                            </p:panelGrid>
                                        </p:panelGrid>
                                    </center>
                                    <center>
                                        <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid">
                                            <p:panelGrid columns="1" styleClass="form-group ui-panelgrid-blank" layout="grid" >
                                                <p:outputLabel value=""/>
                                                <p:commandLink title="Guardar" id="componenteSave-btn"  style="width: auto; " process="@this"
                                                               actionListener="#{ingresosBienesView.saveComponenteOfBienItem()}"
                                                               styleClass="Fs16" update="gridComponentes">
                                                    <p:graphicImage value="/resources/icons/disquet.png"
                                                                    width="40" height="50" 
                                                                    style="margin:auto;  width: auto; "/>
                                                </p:commandLink>
                                            </p:panelGrid>
                                        </p:panelGrid>
                                    </center>

                                </p:fieldset>
                            </p:outputPanel>
                        </div>
                    </div>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog header="INGRESO DE CATALOGO BIEN"
                  widgetVar="dlgCatalogoBien"
                  modal="true" width="75%" height="85%"
                  resizable="false"
                  showEffect="fade"
                  hideEffect="fade"
                  id="dlgCatalogoBien">
            <h:form prependId="false" id="frmCatalogoBien" style=" width: 100%;">
                <p:graphicImage value="/resources/icons/bienes.png"
                                            width="40" height="40" 
                                            style="margin:auto;  width: auto; float: left"></p:graphicImage>
                    <h1 style="font-weight: bold; text-align: center">LISTA DE CATALOGO BIENES</h1>
                <p:dataTable id="dtItem" 
                             var="bien" value="#{ingresosBienesView.lazyCatalogoBLD}"
                             reflow="true" 
                             paginator="true" scrollable="true"
                             lazy="true" rows="15" 
                             rowsPerPageTemplate="10,15,30,50,100"
                             paginatorPosition="bottom"
                             filterEvent="keyup"
                             emptyMessage="No existe Catalogo.">
                    <f:facet name="header">
                        DATOS
                    </f:facet>
                    <p:column headerText="Codigo" style="font-weight: bold; width: 20%; text-align: center" filterBy="#{bien.idBien}">
                        <h:outputText value="#{bien.idBien}"/>   
                    </p:column>
                    <p:column headerText="Descripción" style="width: 40%" filterBy="#{bien.descripcion}">
                        <h:outputText value="#{bien.descripcion}"/> 
                    </p:column>
                    <p:column headerText="Item Presupuestario" style="width: 20%" filterBy="#{bien.itemPresupuestario}">
                        <h:outputText value="#{bien.itemPresupuestario}"/>  
                    </p:column>
                    <p:column headerText="Acciones" style="text-align: center; width: 10%">
                        <center>
                            <p:commandButton icon="fa fa-arrow-circle-o-right" update="panelCatalogoBienes"
                                             title="Seleccionar item y cerrar" 
                                             actionListener="#{ingresosBienesView.selectDataCatalogo(bien)}">
                                <!--<p:ajax event="dialogReturn" listener="# {ingresosBienesView.close(bien)}" update="growl" />-->
                            </p:commandButton>
                        </center>
                    </p:column>


                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog header="DATOS DE ADQUISICION"
                  widgetVar="dlgAdquisiciones"
                  modal="true" width="80%"
                  resizable="false"
                  showEffect="fade"
                  hideEffect="fade"
                  id="dlgAdquisiciones">
            <h:form  id="frmDlgAdquisicion" prependId="false">
                <div class="ui-fluid">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <div class="car card-w-title">
                                <h:panelGrid columns="1" cellpadding="10">
                                    <p:dataTable id="dtAdquisiciones" 
                                                 var="ord" 
                                                 reflow="true" 
                                                 paginator="true" 
                                                 lazy="true" rows="5" 
                                                 rowsPerPageTemplate="10,50,100" 
                                                 paginatorPosition="bottom"
                                                 filterEvent="keyup"
                                                 value="# {dialogOrdenCompraController.lazyModelOrden}"
                                                 emptyMessage="No se encontró ningun orden de compra en el sistema.">
                                        <f:facet name="header">
                                            lista de Ordenes de Compra
                                        </f:facet>
                                        <p:column headerText="Número Orden" style="width: 10%;  font-size: 15px;">
                                            <h:outputText value="# {ord.numeroOrden}" />
                                        </p:column>
                                        <p:column headerText="Fecha Orden" style="width: 10%;  font-size: 15px;" >
                                            <h:outputText  value="# {ord.fechaOrden}"/>
                                        </p:column>
                                        <p:column headerText="Proveedor" style="width: 10%; font-size: 15px;" >
                                            <h:outputText  value="# {ord.proveedor}"/>
                                        </p:column>
                                        <p:column headerText="Condicion de Pago" style="width: 10%;  font-size: 15px;" >
                                            <h:outputText  value="# {ord.condicionPago}"/>
                                        </p:column>
                                        <p:column headerText="Acciones" style="text-align: center; width: 8%">
                                            <p:commandButton icon="fa fa-arrow-circle-o-left"
                                                             title="Seleccionar Orden de compra y cerrar"/>
                                        </p:column>
                                    </p:dataTable>
                                </h:panelGrid>

                            </div>
                        </div>
                    </div>
                </div>

            </h:form>
        </p:dialog>

    </ui:define>

</ui:composition>
