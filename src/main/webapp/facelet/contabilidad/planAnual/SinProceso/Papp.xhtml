<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:sigef="http://xmlns.jcp.org/jsf/composite/sigef/components"
                template="/WEB-INF/template/template.xhtml">
    <f:view encoding="UTF-8"></f:view>
    <ui:define name="title">Plan Anual Politica Publica</ui:define>
    <ui:define name="content">
        <style>
            .condicion1{
                background-color: #E7C402 !important;
            }
            .condicion2{

                background-color: white !important;
            }
            .condicion3{
                background-color: #E7C402 !important;
                color:white;
            }
            #comboItem{
                width: 20px;

            }

        </style>

        <div class="ui-g ui-fluid">

            <div class="ui-g-12">
                <h:form prependId="false" id="formulariobuscar">




                    <p:panel header="Busqueda Plan">
                        <p:panelGrid columns="1" layout="grid"  styleClass="ui-panelgrid-blank form-group">
                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group">
                                <p:outputLabel value="Año:" />
                                <p:selectOneMenu value="#{pappSinProcesoView.busqueda.anio}" style="width: 100%; margin-top: 10px;">
                                    <p:ajax listener="#{pappSinProcesoView.cargandofecha()}" update="formulariobuscar,proyectos,planProgramaProyectos,actividadesOperativa,productos" />
                                    <f:selectItem itemLabel="Seleccione" itemValue="#{null}"/>
                                    <f:selectItems value="#{pappSinProcesoView.listaAnio}" var="p" itemLabel="#{p.nombre}" itemValue="#{p.anio}"/>
                                </p:selectOneMenu>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:panel>


                </h:form>
            </div>

            <p:accordionPanel id="formMain" prependId="false" style="width: 100%;" activeIndex="#{pappSinProcesoView.indiceDeAcordian}"> 
                <p:tab  title="PLAN NACIONAL - PLAN LOCAL - NOMBRE PLAN PROGRAMA PROYECTO">
                    <h:form id="formPlanes" prependId="false">
                        <p:panel  header="Información Plan Nacional " style="margin-bottom:15px; ">
                            <p:panelGrid columns="3" layout="grid" columnClasses="ui-grid-col-4" styleClass="ui-panelgrid-blank form-group" >
                                <h:panelGroup >
                                    <p:outputLabel value="Eje" />
                                    <p:selectOneMenu required="true" id="ejeb" disabled="#{pappSinProcesoView.ocultarMostarPlanNacional}" value="#{pappSinProcesoView.ejeNacionalSeleccionado}" 
                                                     style="width: 100%; margin-top: 10px;" converter="#{utilConverter}" requiredMessage="REQUERIDO">
                                        <p:ajax listener="#{pappSinProcesoView.actualizarCbObjetivo()}" update="politicaNacional,objetivoNacional" />
                                        <f:selectItem itemLabel="Seleccione" itemValue="#{null}"/>
                                        <f:selectItems value="#{pappSinProcesoView.ejesNacionales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}"/>
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                                <h:panelGroup>
                                    <p:outputLabel value="Objetivo"/>
                                    <p:selectOneMenu required="true" disabled="#{pappSinProcesoView.ocultarMostarPlanNacional}" id="objetivoNacional"  requiredMessage="REQUERIDO" 
                                                     value="#{pappSinProcesoView.objetivoNacionalSeleccionado}" style="width: 100%; margin-top: 10px;" converter="#{utilConverter}">
                                        <p:ajax listener="#{pappSinProcesoView.actualizarCbPlotica()}" update="politicaNacional"  />
                                        <f:selectItem itemLabel="Seleccione" itemValue="#{null}"/>
                                        <f:selectItems  value="#{pappSinProcesoView.objetivosNacionales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}"/>
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                                <h:panelGroup  >
                                    <p:outputLabel value="Política"/>
                                    <p:selectOneMenu required="true" requiredMessage="REQUERIDO" disabled="#{pappSinProcesoView.ocultarMostarPlanNacional}" id="politicaNacional" 
                                                     value="#{pappSinProcesoView.politicaNacionalSeleccionada}" style="width: 100%; margin-top: 10px;" 
                                                     panelStyle="width:165px"  filter="true" filterMatchMode="startsWith" converter="#{utilConverter}">
                                        <f:selectItem itemLabel="Seleccione" itemValue="#{null}"/>
                                        <f:selectItems value="#{pappSinProcesoView.politicasNacionales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}"/>
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                            </p:panelGrid>
                        </p:panel>
                        <p:panel header="Plan Local" style="margin-bottom:15px">
                            <p:panelGrid columns="3" layout="grid" columnClasses="ui-grid-col-4" styleClass="ui-panelgrid-blank form-group" >
                                <h:panelGroup>
                                    <p:outputLabel value="Sistema"/>
                                    <p:selectOneMenu id="sistemaLocal" required="true" requiredMessage="REQUERIDO" value="#{pappSinProcesoView.sistemaLocalSeleccionado}" style="width: 100%; margin-top: 10px;" converter="#{utilConverter}">
                                        <p:ajax listener="#{pappSinProcesoView.actualizarObjetivoLocal()}" update="objetivoLocal,politicaLocal"/>
                                        <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{pappSinProcesoView.sistemasLocales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}"/>
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                                <h:panelGroup>
                                    <p:outputLabel value="Objetivo"/>
                                    <p:selectOneMenu  required="true" requiredMessage="REQUERIDO"  value="#{pappSinProcesoView.objetivoLocalSeleccionado}" id="objetivoLocal" style="width: 100%; margin-top: 10px;" converter="#{utilConverter}">
                                        <p:ajax listener="#{pappSinProcesoView.actualizarPoliticaLocal()}" update="politicaLocal"/>
                                        <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{pappSinProcesoView.objetivosLocales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}"/>
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                                <h:panelGroup>
                                    <p:outputLabel value="Política"/>
                                    <p:selectOneMenu required="true" requiredMessage="REQUERIDO" value="#{pappSinProcesoView.politicaLocalSeleccionado}" style="width: 100%; margin-top: 10px;" 
                                                     id="politicaLocal" converter="#{utilConverter}">
                                        <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{pappSinProcesoView.politicasLocales}" var="p" itemLabel="#{p.codigo} - #{p.descripcion}" itemValue="#{p}" />
                                        <f:validateLength minimum="1"  /> 
                                        <p:clientValidator />
                                    </p:selectOneMenu>

                                </h:panelGroup>
                            </p:panelGrid>
                            <p:panelGrid columns="1" layout="grid" columnClasses="ui-grid-col-12" styleClass="ui-panelgrid-blank form-group" >
                                <h:panelGroup>
                                    <p:outputLabel value="Plan, Programa y/o Proyecto"/>
                                    <p:inputTextarea placeholder="Escriba una descripción" required="true" requiredMessage="REQUERIDO" id="descripcionPoliticaNacional"
                                                     rows="5" cols="50" value="#{pappSinProcesoView.planLocalProgramaProyecto.descripcion}" onkeyup="javascript:this.value = this.value.toUpperCase();">
                                        <f:validateLength minimum="3"  /> 
                                        <p:clientValidator />
                                    </p:inputTextarea>

                                </h:panelGroup>
                            </p:panelGrid>
                            <center>
                                <p:commandButton disabled="true"  value="Añadir" icon="fa fa-plus" style="width: auto;" actionListener="#{pappSinProcesoView.savePlanAnualPoliticaPublica()}"
                                                 update="formPlanes,proyectos" />
                            </center>
                        </p:panel>
                    </h:form>
                </p:tab>

                <p:tab title="PLAN ANUAL POLITICAS PUBLICAS">
                    <h:form id="proyectos" prependId="false">
                        <p:dataTable expandableRowGroups="true" id="datatable" widgetVar="datatable" var="planesPolititicasPublicas" value="#{pappSinProcesoView.planAnualazy}" rows="10"
                                     paginator="true" lazy="true" paginatorPosition="bottom" style="text-align: center; margin: 20px"
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     rowsPerPageTemplate="10,15,20,25,30,35,40,45,50,100"
                                     emptyMessage="No existen cuentas con el criterio de busqueda especificado">
                            <f:facet name="header">
                                PROGRAMAS/PROYECTO PLAN NACIONAL - PLAN LOCAL  - #{pappSinProcesoView.busqueda.anio == 0 ? '20XX':pappSinProcesoView.busqueda.anio}
                            </f:facet>
                            <p:column  headerText="Plan Nacional" style="width: 10%" filterBy="#{planesPolititicasPublicas.politicaNacional.codigo}">
                                <h:outputText value="#{planesPolititicasPublicas.politicaNacional.codigo}" />
                            </p:column>
                            <p:column headerText="Plan Local" style="width: 10%" filterBy="#{planesPolititicasPublicas.planLocal.politica.codigo}">
                                <h:outputText value="#{planesPolititicasPublicas.planLocal.politica.codigo}" />
                            </p:column>
                            <p:column headerText="Plan-Programa-Proyecto" style="width: 10%;text-align: justify" filterBy="#{planesPolititicasPublicas.planLocal.descripcion}">
                                <h:outputText value="#{planesPolititicasPublicas.planLocal.descripcion.toUpperCase()}" />
                            </p:column>

                        </p:dataTable>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton  value="Si" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="fa fa-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no RedButton" icon="fa fa-times" />
                        </p:confirmDialog>
                    </h:form>
                </p:tab>

                <p:tab title="PLAN PROGRAMA PROYECTO">
                    <h:form id="planProgramaProyectos" prependId="false" >
                        <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank" style="margin: 15px 0px " >
                            <p:commandButton icon="fa fa-plus" value="Añadir PPPA" actionListener="#{pappSinProcesoView.noAplica()}" style="width: auto;" styleClass="Fs16"/>
                            <p:selectBooleanButton value="#{pappSinProcesoView.filtroDatosNullProgramaProyectos}" onLabel="Filtrado por NO APLICA" offLabel="Quitar Filtro" 
                                                   onIcon="fa fa-check" offIcon="fa fa-times" style="width:auto;">
                                <p:ajax update="datatable2" listener="#{pappSinProcesoView.filtroDeDatosNullPlanProgramaProyecto()}" />
                            </p:selectBooleanButton>
                        </p:panelGrid>
                        <p:dataTable   expandableRowGroups="true" id="datatable2" widgetVar="datatable2" var="a" value="#{pappSinProcesoView.planAnualProgramaLazy}" rows="20"  style="text-align: center;"
                                       paginator="true" paginatorPosition="bottom"  paginatorTemplate="{CurrentPageReport}  {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"                                  
                                       rowsPerPageTemplate="20,25,35,50" lazy="true" 
                                       emptyMessage="No existen cuentas con el criterio de busqueda especificado">  
                            <f:facet name="header">
                                PLAN PROGRAMA PROYECTO - #{pappSinProcesoView.busqueda.anio == 0 ? '20XX':pappSinProcesoView.busqueda.anio}
                            </f:facet>
                            <p:column  headerText="Programas/Proyectos Plan Nacional -Plan Local " style="width: 10%;text-align: justify;" groupRow="true" filterBy="#{a.planAnual.planLocal.descripcion}" >
                                <h:outputText style="font-style: bold" value="#{a.planAnual.planLocal.descripcion==null?'NO APLICA':a.planAnual.planLocal.descripcion.toUpperCase()}" />
                            </p:column>
                            <p:column headerText="PLAN, PROGRAMA Y/O PROYECTO" style="width: 10%;text-align: justify;" filterBy="#{a.nombreProgramaProyecto}">
                                <h:outputText value="#{a.nombreProgramaProyecto==null||a.nombreProgramaProyecto.isEmpty()?'NO APLICA':a.nombreProgramaProyecto.toUpperCase()}" />
                            </p:column>
                            <p:column headerText="Período" style="width: 3%;">
                                <h:outputText value="#{a.periodo}" />
                            </p:column>

                        </p:dataTable>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="fa fa-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no RedButton" icon="fa fa-times" />
                        </p:confirmDialog>
                    </h:form>
                </p:tab>
                <p:tab title="ACTIVIDAD OPERATIVA">
                    <h:form id="actividadesOperativa" prependId="false">
                        <p:dataTable  expandableRowGroups="true" id="listaactividad" widgetVar="listaactividad" paginatorPosition="bottom" var="item"
                                      value="#{pappSinProcesoView.lazyActividadOperativas}" rows="20" paginator="true" rowStyleClass="#{pappSinProcesoView.verificarCuadradoReparticion(item)==false?'condicion1':'condicion2'}"
                                      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"

                                      style="text-align: center; margin: 20px"
                                      rowsPerPageTemplate="20,25,35,50" lazy="true"
                                      emptyMessage="No existen cuentas con el criterio de busqueda especificado">
                            <f:facet name="header">
                                LISTADO DE ACTIVIDADES - #{pappSinProcesoView.busqueda.anio == 0 ? '20XX':pappSinProcesoView.busqueda.anio}
                            </f:facet>
                            <p:column  headerText="Plan proyecto programa" style="width: 20%;text-align: justify;"  filterBy="#{item.planProgramaProyecto.planAnual.planLocal.descripcion}" groupRow="true">
                                <h:outputText value="#{item.planProgramaProyecto.planAnual.planLocal.descripcion == null ?'NO APLICA':item.planProgramaProyecto.planAnual.planLocal.descripcion.toUpperCase()}" />
                            </p:column>
                            <p:column  headerText="PLAN, PROGRAMA Y/O PROYECTO" style="width: 20%;text-align: justify;" filterBy="#{item.planProgramaProyecto.nombreProgramaProyecto}" groupRow="true">
                                <h:outputText value="#{item.planProgramaProyecto.nombreProgramaProyecto.toUpperCase()}" />
                            </p:column>
                            <p:column  headerText="Actividad Operacional" style="width: 20%;text-align: justify;" filterBy="#{item.nombreActividad}">
                                <h:outputText value="#{item.nombreActividad.toUpperCase()}"/>
                            </p:column>
                            <p:column  headerText="Monto Codificado" style="width: 8%; text-align: right" filterBy="#{item.monto}">
                                <h:outputText value="#{item.monotReformado}">
                                    <f:convertNumber type="currency" currencySymbol="$ " currencyCode="USD" locale="es_EC"/>
                                </h:outputText>
                            </p:column>
                            <p:column  headerText="Unidad Responsable" style="width: 16%; text-align: justify;" filterBy="#{item.unidadResponsable.id}" >
                                <f:facet name="filter">
                                    <p:selectOneMenu onchange="PF('listaactividad').filter()" styleClass="custom-filter"   style="width: 100%;">
                                        <f:selectItem itemLabel="Todos" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItems value="#{pappSinProcesoView.unidades}" var="n" itemLabel="#{n.nombre}" itemValue="#{n.id}"/>
                                    </p:selectOneMenu>
                                </f:facet>
                                <h:outputText value="#{item.unidadResponsable.nombre.toUpperCase()}"/>
                            </p:column>
                            <p:column  headerText="Período" style="width: 5%; " >
                                <h:outputText value="#{item.periodo} "/>
                            </p:column>
                            <p:column headerText="Acciones" style="text-align: center; width: 10%">


                                <p:commandLink disabled="#{item.estadoPapp.codigo=='AP'?false:true}"  title="Restribuccion"   process="@this"  actionListener="#{pappSinProcesoView.abrirDlogoRestribuccion(item)}" update="listaactividad">
                                    <i class="fa fa-pie-chart" style="font-size: 1.5em; margin-right: 8px;"></i>

                                </p:commandLink>

                            </p:column>
                        </p:dataTable>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="fa fa-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no RedButton" icon="fa fa-times" />
                        </p:confirmDialog>
                    </h:form>
                </p:tab>

                <p:tab title="PRODUCTOS">
                    <h:form id="productos" prependId="false">
                        <p:dataTable  expandableRowGroups="true" value="#{pappSinProcesoView.productoLazy}" id="listaProductos" widgetVar="listaProductos"
                                      paginatorPosition="bottom" var="item" rows="20" paginator="true"  style="text-align: center;margin: 20px"
                                      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                      rowsPerPageTemplate="20,25,35,50" lazy="true"
                                      emptyMessage="No existen cuentas con el criterio de busqueda especificado">
                            <f:facet name="header">
                                LISTADO DE PRODUCTOS - #{pappSinProcesoView.busqueda.anio == 0 ? '20XX':pappSinProcesoView.busqueda.anio}
                            </f:facet>

                            <p:column  headerText="Plan-Programa-Proyecto" filterBy="#{item.actividadOperativa.planProgramaProyecto.nombreProgramaProyecto}" groupRow="true" style="width: 15%;text-align: justify;">
                                <p:outputLabel value="#{item.actividadOperativa.planProgramaProyecto.nombreProgramaProyecto.toUpperCase()}" />
                            </p:column>
                            <p:column  headerText="Actividade Operacional" filterBy="#{item.actividadOperativa.nombreActividad}" groupRow="true" style="text-align: justify;width: 15%">
                                <p:outputLabel value="#{item.actividadOperativa.nombreActividad}" />
                            </p:column>
                            <p:column  headerText="Monto Actividad" filterBy="#{item.actividadOperativa.monto}" groupRow="true" style="text-align: right;width: 5%">
                                <p:outputLabel value="#{item.actividadOperativa.monto}">
                                    <f:convertNumber type="currency" currencySymbol="$ " currencyCode="USD" locale="es_EC"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column headerText="Producto" filterBy="#{item.descripcion}" filterMatchMode="contains" style="text-align: justify;width: 20%">
                                <p:outputLabel value="#{item.descripcion.toUpperCase()}"/>
                            </p:column>
                            <p:column headerText="Monto Producto" filterBy="#{item.montoReformada}" filterMatchMode="contains" style="text-align:right;width: 5%">
                                <p:outputLabel value="#{item.montoReformada}">
                                    <f:convertNumber type="currency" currencySymbol="$ " currencyCode="USD" locale="es_EC"/>
                                </p:outputLabel>
                            </p:column>


                            <p:column headerText="Estado" filterBy="#{item.estadoPapp.texto}" filterMatchMode="contains" style="text-align: center;width: 5%">
                                <p:outputLabel value="#{item.estadoPapp.texto.toUpperCase()}">

                                </p:outputLabel>
                            </p:column>




                        </p:dataTable>
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="fa fa-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no RedButton" icon="fa fa-times" />
                        </p:confirmDialog>
                    </h:form>
                </p:tab>
            </p:accordionPanel>


            <!--            <ui:include id="ActividadesProductos"  src="/common/Dialog/dlgReporte.xhtml" />-->

            <p:dialog width="400" id="DdlgProducto"  header="Producto" widgetVar="DdlgProducto" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                <h:form id="formProducto" prependId="false">
                    <p:panelGrid columns="3" styleClass="form-group ui-panelgrid-blank">
                        <p:panelGrid  columns="1"   >
                            <p:outputLabel for="@next" value="Nombre Producto:" />
                            <p:inputText id="nombreProducto" required="true" class="panelInput"  onkeypress="focusNextOnEnter(event, 'monto-input-producto')"  value="#{pappSinProcesoView.producto.descripcion}" onkeyup="javascript:this.value = this.value.toUpperCase();">
                            </p:inputText>
                        </p:panelGrid>
                        <p:panelGrid  columns="1"   >
                            <p:outputLabel for="@next" value="Monto:" />
                            <p:inputNumber  id="monto-input-producto"  class="panelInput"  required="true" value="#{pappSinProcesoView.producto.monto}">

                            </p:inputNumber>


                        </p:panelGrid>
                    </p:panelGrid>
                    <center>
                        <p:commandButton value="Añadir"
                                         icon="ui-icon-plus"  actionListener="#{pappSinProcesoView.saveProducto()}" process="formProducto,formulariobuscar"
                                         styleClass="Fs16" style="width: auto; margin-bottom: 15px;" update="formProducto,productos"/>
                    </center>
                </h:form>
            </p:dialog>

            <p:dialog width="800" id="DlgActividad"  header="Actividad Operativa" widgetVar="DlgActividad" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                <h:form id="formActividad" prependId="false">
                    <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                        <p:panelGrid  columns="1"   >
                            <p:outputLabel value="Nombre Actividad:" />
                            <p:inputText  value="#{pappSinProcesoView.actividad.nombreActividad}"  onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Objetivo Operativo:" />
                            <p:inputText id="objetivo_operativo"   value="#{pappSinProcesoView.actividad.objetivoOperativo}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Descripción meta:" />
                            <p:inputText id="descripcion_meta"  value="#{pappSinProcesoView.actividad.descripcionMeta}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>

                        <p:panelGrid columns="1">
                            <p:outputLabel value="Medición Porcentaje:" />
                            <p:selectBooleanButton  style="widows: auto;" value="#{pappSinProcesoView.actividad.medicionPorcentaje}" 
                                                    onLabel="Si" offLabel="No" offIcon="fa fa-times" onIcon="fa fa-check">
                                <p:ajax update="medMeta" listener="#{pappSinProcesoView.cambiarMedicionPorcentual()}"/>
                            </p:selectBooleanButton>
                        </p:panelGrid>

                    </p:panelGrid>
                    <p:fieldset legend="Detalles de Actividad">
                        <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Medicion Meta:" />
                                <p:inputNumber  id="medMeta" value="#{pappSinProcesoView.actividad.medicionMeta}" disabled="#{pappSinProcesoView.actividad.medicionPorcentaje}"/>
                            </p:panelGrid>
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 1:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.cuatrimestre1Meta}"/>
                            </p:panelGrid>
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 2:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.cuatrimestre2Meta}"/>
                            </p:panelGrid> 
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 3:" />
                                <p:inputNumber value="#{pappSinProcesoView.actividad.cuatrimestre3Meta}"/>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:fieldset>



                    <p:fieldset legend="Actividad">
                        <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Monto:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.monto}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 1:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.cuatrimestre1Actividad}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 2:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.cuatrimestre2Actividad}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 3:" />
                                <p:inputNumber  value="#{pappSinProcesoView.actividad.cuatrimestre3Actividad}"/>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:fieldset>
                    <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Indicador meta:" />
                            <p:inputText  value="#{pappSinProcesoView.actividad.indicadorMeta}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Unidad Administrativa:" />
                            <p:selectOneMenu  disabled="true"  value="#{pappSinProcesoView.actividad.unidadResponsable}" converter="#{utilConverter}">
                                <f:selectItem  itemLabel="Seleccione" itemValue="#{null}"/>
                                <f:selectItems value="#{pappSinProcesoView.unidades}" var="item" itemLabel="#{item.nombre}" itemValue="#{item}" />
                            </p:selectOneMenu>
                        </p:panelGrid>

                        <p:panelGrid columns="1" style="text-align: center;">
                            <p:commandButton value="AÑÁDIR"  actionListener="#{pappSinProcesoView.saveActividadOperativa()}"  process="formActividad"
                                             icon="ui-icon-plus"  update="formulariobuscar,actividadesOperativa,listaProductos" style="margin: auto; width: 100%" />
                        </p:panelGrid>

                    </p:panelGrid>



                </h:form>
            </p:dialog>


            <p:dialog id="DlgPlanProyecto"  header="Formulario Plan-Proyecto" widgetVar="DlgPlanProyecto" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                <h:form id="formPlanProyecto"  prependId="false">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <div class="card card-w-title">
                                <p:outputPanel id="formProgramaProyecto" style="width: 100%;">
                                    <p:panelGrid  columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group">
                                        <p:outputLabel value="Nombre del plan anual, programa, proyecto"/>
                                        <p:selectOneMenu value="#{pappSinProcesoView.programaProyecto.nombreProgramaProyecto}" onkeyup="javascript:this.value = this.value.toUpperCase();" editable="true" style="width: 100%" >
                                            <f:selectItem itemLabel="NO APLICA" itemValue="NO APLICA"/>
                                        </p:selectOneMenu>
                                    </p:panelGrid>
                                </p:outputPanel>
                            </div>
                        </div>
                    </div>
                    <center>
                        <p:commandButton value="Adicionar" actionListener="#{pappSinProcesoView.savePlanNombreProyecto()}"
                                         icon="ui-icon-plus"  update="planProgramaProyectos"
                                         styleClass="Fs16" style="width: auto; margin-bottom: 15px; margin-top: 5%;" />
                    </center>
                </h:form>
            </p:dialog>





            <p:dialog width="800" id="DlgActividadRestribucciones"  header="Actividad Operativa" widgetVar="DlgActividadRestribucciones" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                <h:form id="formActividadRestribucciones" prependId="false">
                    <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                        <p:panelGrid  columns="1"   >
                            <p:outputLabel value="Nombre Actividad:" />
                            <p:inputText readonly="true"  value="#{pappSinProcesoView.actividad.nombreActividad}" onkeypress="focusNextOnEnter(event, 'objetivo_operativoR')"  onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Objetivo Operativo:" />
                            <p:inputText readonly="true" id="objetivo_operativoR" onkeypress="focusNextOnEnter(event, 'descripcion_metaR')" required="true" value="#{pappSinProcesoView.actividad.objetivoOperativo}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Descripción meta:" />
                            <p:inputText readonly="true"  id="descripcion_metaR"  value="#{pappSinProcesoView.actividad.descripcionMeta}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>

                        <p:panelGrid columns="1">
                            <p:outputLabel value="Medición Porcentaje:" />
                            <p:selectBooleanButton disabled="true"  style="widows: auto;" value="#{pappSinProcesoView.actividad.medicionPorcentaje}" 
                                                   onLabel="Si" offLabel="No" offIcon="fa fa-times" onIcon="fa fa-check">
                                <p:ajax update="medMetaR" listener="#{pappSinProcesoView.cambiarMedicionPorcentual()}"/>
                            </p:selectBooleanButton>
                        </p:panelGrid>

                    </p:panelGrid>
                    <p:fieldset legend="Detalles de Actividad">
                        <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Medicion Meta:" />
                                <p:inputNumber readonly="true" required="true" id="medMetaR" value="#{pappSinProcesoView.actividad.medicionMeta}" disabled="#{pappSinProcesoView.actividad.medicionPorcentaje}"/>
                            </p:panelGrid>
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 1:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.cuatrimestre1Meta}"/>
                            </p:panelGrid>
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 2:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.cuatrimestre2Meta}"/>
                            </p:panelGrid> 
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 3:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.cuatrimestre3Meta}"/>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:fieldset>





                    <p:fieldset legend="Actividad">
                        <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Monto:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.monto}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 1:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.cuatrimestre1Actividad}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 2:" />
                                <p:inputNumber required="true" value="#{pappSinProcesoView.actividad.cuatrimestre2Actividad}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 3:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.cuatrimestre3Actividad}"/>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:fieldset>



                    <p:fieldset legend="Actividad Codificada">
                        <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                            <p:panelGrid columns="1">
                                <p:outputLabel value="Monto Codificado:" />
                                <p:inputNumber readonly="true" required="true" value="#{pappSinProcesoView.actividad.monotReformado}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 1 codificado:" />
                                <p:inputNumber  required="true" value="#{pappSinProcesoView.actividad.cr1}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 2 codificado::" />
                                <p:inputNumber required="true" value="#{pappSinProcesoView.actividad.cr2}"/>
                            </p:panelGrid>

                            <p:panelGrid columns="1">
                                <p:outputLabel value="Cuatrimestre 3 codificado::" />
                                <p:inputNumber required="true" value="#{pappSinProcesoView.actividad.cr3}"/>
                            </p:panelGrid>
                        </p:panelGrid>
                    </p:fieldset>



                    <p:panelGrid columns="4" styleClass="form-group ui-panelgrid-blank">
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Indicador meta:" />
                            <p:inputText  readonly="true" required="true" value="#{pappSinProcesoView.actividad.indicadorMeta}" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:panelGrid columns="1">
                            <p:outputLabel value="Unidad Administrativa:" />
                            <p:selectOneMenu style="font-weight: bold; font-size: 12px;" disabled="true" required="true" value="#{pappSinProcesoView.actividad.unidadResponsable}" converter="#{utilConverter}">
                                <f:selectItem itemLabel="Seleccione" itemValue="#{null}"/>
                                <f:selectItems value="#{pappSinProcesoView.unidades}" var="item" itemLabel="#{item.nombre}" itemValue="#{item}" />
                            </p:selectOneMenu>
                        </p:panelGrid>

                        <p:panelGrid columns="1" style="text-align: center;">
                            <p:commandButton value="AÑÁDIR"  actionListener="#{pappSinProcesoView.guardarRestribucciones()}"  process="formActividadRestribucciones"
                                             icon="ui-icon-plus"  update="actividadesOperativa,listaProductos" style="margin: auto; width: 100%" />
                        </p:panelGrid>
                    </p:panelGrid>



                </h:form>
            </p:dialog>




        </div>
    </ui:define>
</ui:composition>