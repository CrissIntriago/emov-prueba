<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:panelGroup layout="block" class="Wid100 MarTop10 Container"  style="margin-bottom: 20px;">
        <h:panelGroup layout="block" class="Container Wid100">
            <div class="ContainerIndent">
                <h1 class="BigTopic Fs16">Datos de Obra </h1>
                <hr></hr>
                <h:panelGroup layout="block" class="Responsive Container100">
                    <div class="ContainerIndent Wid100 MarRigh320">
                        <h:panelGrid columns="3" style="width: 100%">
                            <h:panelGroup layout="block">
                                <p:outputLabel for="tipoObras" value="Tipo de Obra" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText id="tipoObras"  value="#{obras.obra.tipoObra.descripcion}" readonly="true"  />                                    <f:attribute name="name" value="MejTipoObra"/>

                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <p:outputLabel for="anios" value="A침o" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText id="anios" type="number" value="#{obras.obra.anio}" required="true" readonly="true"   />
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="Fecha Conclusi칩n Obra" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:calendar value="#{obras.obra.fechaConclusionObra}" pattern="dd/MM/yyyy" readonly="true"  />
                            </h:panelGroup>
                        </h:panelGrid>
                    </div>
                </h:panelGroup>
                <h:panelGroup layout="block" class="Responsive Container100">
                    <div class="ContainerIndent Wid100 MarRigh320">
                        <h:panelGrid columns="2" style="width: 100%">
                            <h:panelGroup layout="block">
                                <h:outputText value="Concepto" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputTextarea value="#{obras.obra.concepto}" readonly="true"   style="width: 98%;" rows="3" placeholder="Ingrese el Concepto de la Obra."/>
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="" style="font-weight: bold; font-size: 13px;"/><br/>
                                <h:outputText value="" style="font-weight: bold; font-size: 13px;"/>
                            </h:panelGroup>
                        </h:panelGrid>
                    </div>
                </h:panelGroup>

                <h:panelGroup layout="block" class="Responsive Container100">
                    <div class="ContainerIndent Wid100 MarRigh320">
                        <h:panelGrid columns="4" style="width: 100%">
                            <h:panelGroup layout="block">
                                <h:outputText value="Base Legal" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText value="#{obras.obra.baseLegal}" readonly="true"  />
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="Cuenta Contable" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText value="#{obras.obra.cuentaContable}" readonly="true"   />
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <p:outputLabel for="costoTotales" value="Costo Total" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText id="costoTotales" type="number" readonly="true"   value="#{obras.obra.costoTotal}" required="true" />
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <p:outputLabel for="plazos" value="Plazo de Recuperaci칩n" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText id="plazos" type="number" readonly="true"   value="#{obras.obra.plazo}" required="true" >
                                    <!--<p:ajax event="blur" listener="# {obras.calcularValores()}"  update="registroCEMForm"   process="@all"/>-->
                                </p:inputText>
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <p:outputLabel for="subsidios" value="Porcentaje Subsidio" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText id="subsidios" type="number" value="#{obras.obra.subsidio}" required="true" >
                                    <p:ajax event="blur" listener="#{obras.calcularValores()}"  update="registroCEMForm"  process="@all"/>
                                </p:inputText>
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="Valor Subsidio" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText type="number" value="#{obras.obra.valorSubcidiado}" readonly="true"/>
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="Valor a Recuperar" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText type="number" value="#{obras.obra.valorRecuperar}" readonly="true"/>
                            </h:panelGroup>
                            <h:panelGroup layout="block">
                                <h:outputText value="Valor Emisi칩n Anual" style="font-weight: bold; font-size: 13px;"/><br/>
                                <p:inputText type="number" value="#{obras.obra.valorEmisionAnual}" readonly="true"/>
                            </h:panelGroup>
                        </h:panelGrid>
                    </div>
                </h:panelGroup>
                <h:panelGroup   layout="block" class="Container Wid100 MarTop10" >
                    <h:panelGrid columns="1" style="width: 100%">
                        <h:panelGroup layout="block">
                            <p:dataTable var="item" value="#{obras.ubicacionesSeleccionadas}" lazy="true"  rows="10"  paginator="true"
                                         paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                                         rowsPerPageTemplate="5,10,15,30,50,100,300,500"  widgetVar="dataNodos" filterEvent="enter"
                                         rowIndexVar="index"
                                         id="data">
                                <f:facet name="header">
                                    <h1>UBICACIONES</h1>
                                </f:facet>
                                <p:column headerText="Nombre" filterBy="#{item.nombre}" filterMatchMode="contains">
                                    <h:outputText value="#{item.nombre}"/>
                                </p:column>
                                <p:column headerText="Parroquia" filterBy="#{item.parroquia}" filterMatchMode="contains">
                                    <h:outputText value="#{item.parroquia}"/>
                                </p:column>
                                <p:column headerText="Sector" filterBy="#{item.sector}" filterMatchMode="contains">
                                    <h:outputText value="#{item.sector}"/>
                                </p:column>
                                <p:column headerText="Ciudadela" filterBy="#{item.ciudadela}" filterMatchMode="contains">
                                    <h:outputText value="#{item.ciudadela}"/>
                                </p:column>
                                <p:column headerText="predio" filterBy="#{item.predio}" filterMatchMode="contains">
                                    <h:outputText value="#{item.predio}"/>
                                </p:column>
                            </p:dataTable>
                        </h:panelGroup>
                    </h:panelGrid>
                </h:panelGroup>


                <h:panelGroup   layout="block" class="Container Wid100 MarTop10" >
                    <p:fieldset legend="Rubro Seleccionado" toggleable="true" toggleSpeed="500" style="margin-bottom: 10px;">
                        <div class="ContainerIndent" align="center">


                            <h:panelGroup layout="block">
                                <h:outputText value="Rubro:" style="font-size: 16px; font-weight: bolder; width: 100%"/><br></br>
                                <p:inputText value="#{obras.rubroSelected.descripcion}" readonly="true" style="text-align: center; font-size: 16px; font-weight: bolder; width: 100%"/>
                            </h:panelGroup>

                        </div>

                    </p:fieldset>
                </h:panelGroup>

            </div>
        </h:panelGroup>
    </h:panelGroup>

</html>