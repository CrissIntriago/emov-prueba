<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:comp="http://xmlns.jcp.org/jsf/composite/dialog"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <style type="text/css">
        .forty-percent {
            width: 50%;
        }

        .sixty-percent {
            width: 50%;
        }

        .top-alignment {
            vertical-align: top;
        }
    </style>
    <h:panelGroup id="pnlGropuEstablecimiento" layout="block" class="Wid100 MarTop10 Container"  style="margin-bottom: 20px;">
        <h:panelGroup layout="block" class="Container Wid100">
            <div class="ContainerIndent">       
                <p:fieldset legend="Informaciòn del Establecimiento" id="fieldLocales" toggleable="true"> 
                    <h:panelGrid columns="7" style="width: 100%" id="pnlEstablecimientos">
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Predio" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:commandLink id="btnPredio" actionListener="#{turismoLocalComercial.openDlgPredios()}" immediate="true" style="padding-left: 5px" update="frmPredios">
                                <p:graphicImage value="/resources/icons/buscar.png" height="25" width="25"/>
                            </p:commandLink>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive" >
                            <p:outputLabel  value="Mat. Inmobiliaria" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:outputLabel  value="#{turismoLocalComercial.predio.numPredio}" rendered="#{turismoLocalComercial.predio.id ne null}"/>
                            <p:outputLabel  value="No se ha seleccionado Predio" rendered="#{turismoLocalComercial.predio.id eq null}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="# Propietario" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:outputLabel  value="#{turismoLocalComercial.predio.nombrePropietarios}" rendered="#{turismoLocalComercial.predio.id ne null}"/>
                            <p:outputLabel  value="No se ha seleccionado Predio" rendered="#{turismoLocalComercial.predio.id eq null}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive"  >
                            <p:outputLabel  value="Direcciòn" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:outputLabel  value="#{turismoLocalComercial.predio.calle}" rendered="#{turismoLocalComercial.predio.id ne null}"/>
                            <p:outputLabel  value="No se ha seleccionado Predio" rendered="#{turismoLocalComercial.predio.id eq null}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Es Propio ?:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:selectBooleanCheckbox  value="#{turismoLocalComercial.local.esPropio}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Es Matriz ?:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:selectBooleanCheckbox  value="#{turismoLocalComercial.local.matriz}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Es Turistico ?:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:selectBooleanCheckbox  value="#{turismoLocalComercial.local.turismo}"/>
                        </h:panelGroup>
                    </h:panelGrid>
                    <h:panelGrid columns="3" style="width: 100%" id="dataLocal">
                        <h:panelGroup layout="block" class="Responsive100 Responsive" >
                            <p:outputLabel for="nombreLocal" value="Nombre comercial:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;" />
                            <p:inputTextarea rows="4" required="true"  cols="30" id="nombreLocal" 
                                             value="#{turismoLocalComercial.local.nombreLocal}"/>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="# Establecimiento:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:inputTextarea rows="4" cols="30" value="#{turismoLocalComercial.local.numLocal}" style="font-weight: bolder !important; margin-bottom: 0px; text-transform: uppercase" />
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Direcciòn:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:inputTextarea rows="4" cols="30" value="#{turismoLocalComercial.local.actividadComercial}" style="width: 70% !important; text-transform: uppercase"/>
                        </h:panelGroup>
                    </h:panelGrid>
                    <h:panelGrid columns="4" style="width: 100%">
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel for="estadoCmb"  value="Estado local:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:selectOneMenu id="estadoCmb" value="#{turismoLocalComercial.local.estadoLocalComercial}"  required="true" style="font-size: 10px;" >
                                <f:selectItem itemLabel="Estado Local" itemValue="#{null}" noSelectionOption="true"/>
                                <f:selectItem itemLabel="HABILITADO" itemValue="#{1}" />
                                <f:selectItem itemLabel="INHABILITADO" itemValue="#{2}" />
                                <f:selectItem itemLabel="CLAUSURADO" itemValue="#{3}" />
                            </p:selectOneMenu>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel for="tipoLocalCmb" value="Tipo Local:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:selectOneMenu id="tipoLocalCmb" required="true"  value="#{turismoLocalComercial.local.tipoLocal}" converter="entityConverter">
                                <f:selectItem itemLabel="Seleccione..." itemValue="#{null}"/>
                                <f:selectItems value="#{turismoLocalComercial.tipoLocal}" var="tl1" itemLabel="#{tl1.descripcion}" itemValue="#{tl1}"/>
                            </p:selectOneMenu>
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <p:outputLabel  value="Inicio de Actividades:" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                            <p:calendar value="#{turismoLocalComercial.local.inicioActividad}" navigator="true" pattern="dd/MM/yyyy" />
                        </h:panelGroup>
                        <h:panelGroup layout="block" class="Responsive100 Responsive">
                            <comp:decorateForm id="area_local" label="Área:" bind="#{turismoLocalComercial.local.area}"
                                               floatValidate="true" pattern="##############.##" />
                        </h:panelGroup>
                    </h:panelGrid>
                    <div align="center">
                        <h:panelGroup layout="block"  class="Container Wid100 MarTop10" >

                            <h:panelGroup layout="block" class="Container50"  >
                                <h:panelGrid columns="2" style="width: 100%" id="dataCategoria">
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                        <h:outputText value="Categoria " class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                                        <p:selectOneMenu id="cate" value="#{turismoLocalComercial.idCategoria}">
                                            <f:selectItem itemLabel="Seleccione..." itemValue="#{null}"/>
                                            <f:selectItems value="#{turismoLocalComercial.categorias}" var="cat1" itemLabel="#{cat1.descripcion}" itemValue="#{cat1.id}"/>
                                            <p:ajax update="subCateogria" /> 
                                        </p:selectOneMenu>    
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                        <h:outputText value="Tipo de accesorio: " class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                                        <p:selectOneMenu id="accesorios" value="#{turismoLocalComercial.cantidad.tipoAccesorio}"  converter="entityConverter" >
                                            <f:selectItem itemLabel="Seleccion..." itemValue="#{null}"/>
                                            <f:selectItems value="#{turismoLocalComercial.tipos}" var="cat1" itemLabel="#{cat1.descripcion}" itemValue="#{cat1}"/>
                                        </p:selectOneMenu>    
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                        <p:outputLabel for="subCateogria"  value="SubCategoria " class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  />
                                        <p:selectOneMenu id="subCateogria" required="true" value="#{turismoLocalComercial.local.categoria}"  converter="entityConverter" >
                                            <f:selectItem itemLabel="Seleccion..." itemValue="#{null}"/>
                                            <f:selectItems value="#{turismoLocalComercial.categoriasHijas}" var="cat1" itemLabel="#{cat1.descripcion}" itemValue="#{cat1}"/>
                                        </p:selectOneMenu>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                        <comp:decorateForm id="cantidad_accesorios" label="Cantidad" bind="#{turismoLocalComercial.cantidad.cantidad}"
                                                           integerValidate="true"/>    
                                        <comp:decorateForm id="anio" label="Año" bind="#{turismoLocalComercial.cantidad.anio}"
                                                           integerValidate="true"/>    
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="Responsive100 Responsive">
                                        <p:commandButton value="Agregar" styleClass="btnStyle"  
                                                         update="dtAccesorios" actionListener="#{turismoLocalComercial.agregarCantidad}" />            
                                    </h:panelGroup>
                                </h:panelGrid>
                            </h:panelGroup>

                            <h:panelGroup layout="block" class="Container40"  >
                                <p:dataTable id="dtAccesorios" value="#{turismoLocalComercial.local.cantidadAccesoriosCollection}" reflow="true"
                                             var="acc" rows="5" paginator="true" paginatorPosition="top"
                                             emptyMessage="No tiene datos">
                                    <f:facet name="header">
                                        Accesorios
                                    </f:facet>
                                    <p:column headerText="Cantidad">
                                        <center><h:outputText value="#{acc.cantidad}"/></center>
                                    </p:column>
                                    <p:column headerText="Tipo">
                                        <center><h:outputText value="#{acc.tipoAccesorio.descripcion}"/></center>
                                    </p:column>
                                    <p:column headerText="Año">
                                        <center><h:outputText value="#{acc.anio}"/></center>
                                    </p:column>
                                    <p:column headerText="Acción">
                                        <center><p:commandLink value="Eliminar" actionListener="#{turismoLocalComercial.eliminarCantidadNew(acc)}" update="dtAccesorios"/></center>
                                    </p:column>
                                </p:dataTable>
                            </h:panelGroup>
                        </h:panelGroup>
                        <br></br>
                        <h:panelGroup layout="block" class="Container Wid100">
                            <h:panelGrid columns="2" style="width: 100%" columnClasses="forty-percent top-alignment, sixty-percent top-alignment">
                                <p:row style="width: 70%">
                                    <p:column style="width: 70%">
                                        <h:panelGrid id="pgDatosEvento" columns="4" style="width: 99%; text-align: center">
                                            <f:facet name="header">
                                                Horarios
                                            </f:facet>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="lunes_ini" value="Lunes Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="lunes_ini" value="#{turismoLocalComercial.local.localComercialHorarios.lunesDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="martes_ini" value="Martes Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="martes_ini" value="#{turismoLocalComercial.local.localComercialHorarios.martesDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="miercoles_ini" value="Miercoles Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="miercoles_ini" value="#{turismoLocalComercial.local.localComercialHorarios.miercolesDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="jueves_ini" value="Jueves Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="jueves_ini" value="#{turismoLocalComercial.local.localComercialHorarios.juevesDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                        </h:panelGrid>
                                        <h:panelGrid id="pgDatosEventoFin" columns="4" style="width: 99%; text-align: center">
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="lunes_fin" value="Lunes Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="lunes_fin" value="#{turismoLocalComercial.local.localComercialHorarios.lunesHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="martes_fin" value="Martes Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="martes_fin" value="#{turismoLocalComercial.local.localComercialHorarios.martesHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="miercoles_fin" value="Miercoles Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="miercoles_fin" value="#{turismoLocalComercial.local.localComercialHorarios.miercolesHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="jueves_fin" value="Jueves Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="jueves_fin" value="#{turismoLocalComercial.local.localComercialHorarios.juevesHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                        </h:panelGrid>
                                        <h:panelGrid  columns="3" style="width: 99%; text-align: center">
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="viernes_ini" value="Viernes Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="viernes_ini" value="#{turismoLocalComercial.local.localComercialHorarios.viernesDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="sabado_ini" value="Sabado Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="sabado_ini" value="#{turismoLocalComercial.local.localComercialHorarios.sabadoDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="domingo_ini" value="Domingo Inicio:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="domingo_ini" value="#{turismoLocalComercial.local.localComercialHorarios.domingoDesde}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>

                                        </h:panelGrid>
                                        <h:panelGrid  columns="3" style="width: 99%; text-align: center">
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="viernes_fin" value="Viernes Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="viernes_fin" value="#{turismoLocalComercial.local.localComercialHorarios.viernesHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="sabado_fin" value="Sabado Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="sabado_fin" value="#{turismoLocalComercial.local.localComercialHorarios.sabadoHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="domingo_fin" value="Domingo Termina:"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:calendar id="domingo_fin" value="#{turismoLocalComercial.local.localComercialHorarios.domingoHasta}" pattern="HH:mm" timeOnly="true" />
                                            </h:panelGroup>

                                        </h:panelGrid>
                                        <h:panelGrid id="pgDatosObservacion" columns="1" style="width: 99%; text-align: center">
                                            <h:panelGroup layout="block">
                                                <p:outputLabel for="observaciones" value="Observacion"  style="font-weight: bolder; font-size: 13px;"/><br/>
                                                <p:inputTextarea rows="3" cols="100"  id="observaciones" value="#{turismoLocalComercial.local.localComercialHorarios.observacionHorario}" />
                                            </h:panelGroup>
                                        </h:panelGrid>
                                        <h:panelGrid columns="1" style="width: 99%; text-align: center; align-content: center;">
                                            <h:panelGroup layout="block" class="Responsive100 Responsive" style="text-align: center">
                                                <p:outputLabel  value="Actividades Comerciales" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  /><br></br>
                                                <p:pickList id="PojoPickList" value="#{turismoLocalComercial.dualListActividades}" var="act" 
                                                            style="text-align: center;vertical-align: middle;width:119%" 
                                                            itemValue="#{act}" itemLabel="#{act.descripcion}"  responsive="true"  
                                                            addAllLabel="Agregar todas" addLabel="Adicionar" removeAllLabel="Eliminar todas" removeLabel="Eliminar"
                                                            showSourceFilter="true" showTargetFilter="true" filterMatchMode="contains" converter="entityConverter">
                                                    <f:facet name="sourceCaption">Actividades disponibles</f:facet>
                                                    <f:facet name="targetCaption">Actividades del local</f:facet>
                                                    <p:ajax event="transfer" listener="#{turismoLocalComercial.onTranferActividad}" update="PojoPickList"/>
                                                    <p:column style="width:90%;">
                                                        <h:outputText value="#{act.descripcion}" />
                                                    </p:column>
                                                </p:pickList>
                                            </h:panelGroup>
                                        </h:panelGrid>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column >
                                        <h:panelGroup layout="block" class="Wid100 MarTop10 Container"  style="margin-bottom: 20px;">
                                            <h:outputLabel  value="Fotos" class="DispBlock Wid100" style="font-weight: bolder !important; margin-bottom: 0px;"  /><br></br>
                                            <h:panelGroup layout="block" class="Wid100" style="margin-bottom: 15px;" >
                                                <div align="rigth">
                                                    <p:commandButton id="btnaddFoto" value="Agregar foto" onclick="PF('dlgSubida').show()" immediate="true" update=":frmSubFotos"/>
                                                </div>
                                            </h:panelGroup>    
                                            <h:panelGroup layout="block" class="Wid100 ">
                                                <p:dataGrid var="f" value="#{turismoLocalComercial.fotosLocalesComerciales}" columns="2" layout="grid" paginatorAlwaysVisible="false" 
                                                            rows="2" paginator="true" id="datGrFotos" rowIndexVar="i"
                                                            emptyMessage="No existen fotos registradas"
                                                            paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                            rowsPerPageTemplate="2,4,6">
                                                    <p:panel id="pnlFotosBoveda" header="#{f.nombre}" style="text-align:center">
                                                        <h:panelGrid columns="1" style="width:100%">
                                                            <p:graphicImage url="/FotosLocalComercialServlet?fotoId=#{f.id}" style="width: 250px; height: 250px"/>
                                                            <h:outputText value="#{f.nombre}" />
                                                            <p:commandLink update=":frmFotos" process="@this" immediate="true" oncomplete="PF('dlgFoto').show()" action="#{turismoLocalComercial.loadValueFotoLocal(f, i)}" value="Ver">
                                                                <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                                                                <f:setPropertyActionListener value="#{f}" target="#{turismoLocalComercial.localComercialFotoSeleccionada}" />
                                                            </p:commandLink>
                                                            <p:commandLink  update="datGrFotos" immediate="true"  action="#{turismoLocalComercial.eliminarFoto(f, i)}" value="Eliminar" >
                                                                <h:outputText styleClass="ui-icon-trash" style="margin:0 auto;" />
                                                                <f:setPropertyActionListener value="#{f}" target="#{turismoLocalComercial.localComercialFotoSeleccionada}" />
                                                            </p:commandLink>
                                                        </h:panelGrid>
                                                    </p:panel>
                                                </p:dataGrid>
                                            </h:panelGroup>
                                        </h:panelGroup>
                                    </p:column>
                                </p:row>
                            </h:panelGrid>
                        </h:panelGroup>
                    </div>
                    <br></br>
                    
                    <center>
                        <p:commandLink id="btnAgregar"  actionListener="#{turismoLocalComercial.guardarEstablecimiento()}" style="padding-left: 5px" update="dtLocales, fieldLocales">
                            <p:graphicImage value="/css/homeIconsImages/localComercial.jpg" width="45" height="45"/>
                        </p:commandLink><br></br>
                        <p:outputLabel value="Agregar"/>
                    </center>
                </p:fieldset>
                <br/><br/>
                <p:dataTable id="dtLocales" value="#{turismoLocalComercial.locales}" rowIndexVar="index"
                             var="local" rows="10" paginator="true" paginatorPosition="top" 
                             emptyMessage="No se han Agregado Locales Comerciales"
                             rowsPerPageTemplate="10, 20, 50, 100" filterEvent="enter" widgetVar="dtLocales" >
                    <f:facet name="header">
                        Establecimientos Agregados
                    </f:facet>

                    <p:column headerText="Número" filterBy="#{local.numLocal}" width="10%;"  filterStyle="width:60%;">
                        <center><h:outputText value="#{local.numLocal}"/></center>
                    </p:column>
                    <p:column headerText="Nombre" >
                        <center><h:outputText value="#{local.nombreLocal}"/></center>
                    </p:column>
                    <p:column headerText="Matriz" >
                        <center><h:outputText value="SI" rendered="#{local.matriz}"/></center>
                        <center><h:outputText value="NO" rendered="#{!local.matriz}"/></center>
                    </p:column>
                    <p:column headerText="Actividades" >
                        <center>
                            <ui:repeat id="actividadesLocales" value="#{local.renActividadComercialCollection}" var="act">
                                <p:outputLabel value="#{act.descripcion} ;" style="text-transform: uppercase; font-size: 11px"/>
                            </ui:repeat>
                        </center>
                    </p:column>

                    <p:column headerText="Accesorios" width="15%;" >
                        <center>
                            <ui:repeat value="#{local.cantidadAccesoriosCollection}" var="acc" >
                                <center><h:outputText value="Tipo: #{acc.tipoAccesorio.descripcion} - Cantidad: #{acc.cantidad} - Año:  #{acc.anio}"/></center>
                                <br></br>
                            </ui:repeat>    
                        </center>
                    </p:column>
                    <p:column headerText="Acción" width="15%;">
                        <center>
                            <p:commandLink title="Editar" process="@this" action="#{turismoLocalComercial.initEditarLocal(local)}" styleClass="btnStyle" rendered="#{turismoLocalComercial.patente.id gt 0}"
                                           update="pnlGropuEstablecimiento, nombreLocal, dataLocal, cate, subCateogria, dataCategoria, datGrFotos"  >
                                <p:graphicImage value="/css/homeIconsImages/edicion.png"  height="20" width="20"/>
                            </p:commandLink>
                            <p:commandLink title="Eliminar" actionListener="#{turismoLocalComercial.removeLocal(index)}" immediate="true" update="dtLocales" styleClass="btnStyle">
                                <p:graphicImage value="/css/homeIconsImages/delete.png"  height="20" width="20"/>
                            </p:commandLink>
                        </center>
                    </p:column>
                </p:dataTable>
            </div>
        </h:panelGroup>
    </h:panelGroup>

</html>